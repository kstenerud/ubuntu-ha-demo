ha-cluster-demo.sh 10.105.237.2

HA Cluster Demonstration
------------------------


### [http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/index.html](http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/index.html)


#### Create two nodes

HOST:
```shell
$ lxc launch ubuntu-daily:cosmic ha-node1
Creating ha-node1
Starting ha-node1
Waiting for network
Waiting for network
Waiting for network
Waiting for network
Waiting for network
Waiting for network
```
GUEST ha-node1:
```shell
$ sudo apt update
Hit:1 http://archive.ubuntu.com/ubuntu cosmic InRelease
Get:2 http://archive.ubuntu.com/ubuntu cosmic-updates InRelease [88.7 kB]                            
Get:3 http://security.ubuntu.com/ubuntu cosmic-security InRelease [88.7 kB]                                    
Get:4 http://archive.ubuntu.com/ubuntu cosmic-backports InRelease [74.6 kB]        
Get:5 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 Packages [8803 kB]               
Get:6 http://security.ubuntu.com/ubuntu cosmic-security/universe amd64 Packages [48.1 kB]       
Get:7 http://security.ubuntu.com/ubuntu cosmic-security/universe Translation-en [29.6 kB]
Get:8 http://archive.ubuntu.com/ubuntu cosmic/universe Translation-en [5063 kB]        
Get:9 http://security.ubuntu.com/ubuntu cosmic-security/multiverse amd64 Packages [3080 B]
Get:10 http://security.ubuntu.com/ubuntu cosmic-security/multiverse Translation-en [1512 B]     
Get:11 http://archive.ubuntu.com/ubuntu cosmic/multiverse amd64 Packages [158 kB]                       
Get:12 http://archive.ubuntu.com/ubuntu cosmic/multiverse Translation-en [113 kB]
Get:13 http://archive.ubuntu.com/ubuntu cosmic-updates/main amd64 Packages [194 kB]
Get:14 http://archive.ubuntu.com/ubuntu cosmic-updates/universe amd64 Packages [210 kB]
Get:15 http://archive.ubuntu.com/ubuntu cosmic-updates/universe Translation-en [67.5 kB]
Get:16 http://archive.ubuntu.com/ubuntu cosmic-updates/multiverse amd64 Packages [3080 B]
Get:17 http://archive.ubuntu.com/ubuntu cosmic-updates/multiverse Translation-en [1512 B]
Get:18 http://archive.ubuntu.com/ubuntu cosmic-backports/universe amd64 Packages [2888 B]
Get:19 http://archive.ubuntu.com/ubuntu cosmic-backports/universe Translation-en [1268 B]
Fetched 15.0 MB in 3s (4418 kB/s)                           
Reading package lists... Done
Building dependency tree       
Reading state information... Done
All packages are up to date.
```
GUEST ha-node1:
```shell
$ sudo apt dist-upgrade -y
Reading package lists... Done
Building dependency tree       
Reading state information... Done
Calculating upgrade... Done
The following package was automatically installed and is no longer required:
  libfreetype6
Use 'sudo apt autoremove' to remove it.
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
```
GUEST ha-node1:
```shell
$ sudo apt install -y pacemaker pcs corosync fence-agents
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following additional packages will be installed:
  cluster-glue docutils-common fonts-dejavu-core fonts-lato fonts-liberation ibverbs-providers javascript-common libcfg6
  libcib4 libcmap4 libcorosync-common4 libcpg4 libcrmcluster4 libcrmcommon3 libcrmservice3 libdbus-glib-1-2 libesmtp6
  libibverbs1 libjbig0 libjpeg-turbo8 libjpeg8 libjs-jquery liblcms2-2 liblrm2 liblrmd1 libltdl7 libnet-telnet-perl libnet1
  libnl-3-200 libnl-route-3-200 libnspr4 libnss3 libopenhpi3 libopenipmi0 libpaper-utils libpaper1 libpe-rules2 libpe-status10
  libpengine10 libpils2 libplumb2 libplumbgpl2 libqb0 libquorum5 librdmacm1 libruby2.5 libsensors4 libsgutils2-2 libsnmp-base
  libsnmp30 libstatgrab10 libstonith1 libstonithd2 libtiff5 libtimedate-perl libtotem-pg5 libtransitioner2 libvotequorum8
  libwebp6 libwebpdemux2 libwebpmux3 libxml2-utils openhpid pacemaker-cli-utils pacemaker-common pacemaker-resource-agents
  python3-boto3 python3-botocore python3-bs4 python3-dateutil python3-docutils python3-fasteners python3-googleapi
  python3-html5lib python3-jmespath python3-lxml python3-monotonic python3-oauth2client python3-olefile python3-pexpect
  python3-pil python3-ptyprocess python3-pycurl python3-pygments python3-roman python3-rsa python3-s3transfer
  python3-sqlalchemy python3-sqlalchemy-ext python3-suds python3-uritemplate python3-webencodings rake resource-agents ruby
  ruby-activesupport ruby-atomic ruby-backports ruby-did-you-mean ruby-ethon ruby-ffi ruby-highline ruby-i18n ruby-json
  ruby-mime-types ruby-mime-types-data ruby-minitest ruby-multi-json ruby-net-telnet ruby-oj ruby-open4 ruby-power-assert
  ruby-rack ruby-rack-protection ruby-rack-test ruby-rpam-ruby19 ruby-sinatra ruby-sinatra-contrib ruby-test-unit
  ruby-thread-safe ruby-tilt ruby-tzinfo ruby-xmlrpc ruby2.5 rubygems-integration sg3-utils sgml-base snmp unzip xml-core
  xsltproc zip
Suggested packages:
  ipmitool python3-adal python3-azure apache2 | lighttpd | httpd liblcms2-utils lm-sensors snmp-mibs-downloader docutils-doc
  fonts-linuxlibertine | ttf-linux-libertine texlive-lang-french texlive-latex-base texlive-latex-recommended python3-genshi
  python3-lxml-dbg python-lxml-doc python-pexpect-doc python-pil-doc python3-pil-dbg libcurl4-gnutls-dev python-pycurl-doc
  python3-pycurl-dbg python-pygments-doc ttf-bitstream-vera python-sqlalchemy-doc python3-psycopg2 python3-mysqldb python3-fdb
  ri ruby-dev bundler sgml-base-doc debhelper
The following NEW packages will be installed:
  cluster-glue corosync docutils-common fence-agents fonts-dejavu-core fonts-lato fonts-liberation ibverbs-providers
  javascript-common libcfg6 libcib4 libcmap4 libcorosync-common4 libcpg4 libcrmcluster4 libcrmcommon3 libcrmservice3
  libdbus-glib-1-2 libesmtp6 libibverbs1 libjbig0 libjpeg-turbo8 libjpeg8 libjs-jquery liblcms2-2 liblrm2 liblrmd1 libltdl7
  libnet-telnet-perl libnet1 libnl-3-200 libnl-route-3-200 libnspr4 libnss3 libopenhpi3 libopenipmi0 libpaper-utils libpaper1
  libpe-rules2 libpe-status10 libpengine10 libpils2 libplumb2 libplumbgpl2 libqb0 libquorum5 librdmacm1 libruby2.5 libsensors4
  libsgutils2-2 libsnmp-base libsnmp30 libstatgrab10 libstonith1 libstonithd2 libtiff5 libtimedate-perl libtotem-pg5
  libtransitioner2 libvotequorum8 libwebp6 libwebpdemux2 libwebpmux3 libxml2-utils openhpid pacemaker pacemaker-cli-utils
  pacemaker-common pacemaker-resource-agents pcs python3-boto3 python3-botocore python3-bs4 python3-dateutil python3-docutils
  python3-fasteners python3-googleapi python3-html5lib python3-jmespath python3-lxml python3-monotonic python3-oauth2client
  python3-olefile python3-pexpect python3-pil python3-ptyprocess python3-pycurl python3-pygments python3-roman python3-rsa
  python3-s3transfer python3-sqlalchemy python3-sqlalchemy-ext python3-suds python3-uritemplate python3-webencodings rake
  resource-agents ruby ruby-activesupport ruby-atomic ruby-backports ruby-did-you-mean ruby-ethon ruby-ffi ruby-highline
  ruby-i18n ruby-json ruby-mime-types ruby-mime-types-data ruby-minitest ruby-multi-json ruby-net-telnet ruby-oj ruby-open4
  ruby-power-assert ruby-rack ruby-rack-protection ruby-rack-test ruby-rpam-ruby19 ruby-sinatra ruby-sinatra-contrib
  ruby-test-unit ruby-thread-safe ruby-tilt ruby-tzinfo ruby-xmlrpc ruby2.5 rubygems-integration sg3-utils sgml-base snmp unzip
  xml-core xsltproc zip
0 upgraded, 136 newly installed, 0 to remove and 0 not upgraded.
Need to get 26.1 MB of archives.
After this operation, 142 MB of additional disk space will be used.
Get:1 http://archive.ubuntu.com/ubuntu cosmic/main amd64 fonts-lato all 2.0-2 [2698 kB]
Get:2 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 python3-uritemplate all 0.6-1ubuntu1 [5126 B]
Get:3 http://archive.ubuntu.com/ubuntu cosmic/main amd64 sgml-base all 1.29 [12.3 kB]
Get:4 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libdbus-glib-1-2 amd64 0.110-3 [58.3 kB]
Get:5 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libltdl7 amd64 2.4.6-4 [38.7 kB]
Get:6 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libpils2 amd64 1.0.12-10 [18.6 kB]
Get:7 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libplumb2 amd64 1.0.12-10 [73.9 kB]
Get:8 http://archive.ubuntu.com/ubuntu cosmic/main amd64 liblrm2 amd64 1.0.12-10 [15.5 kB]
Get:9 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libopenhpi3 amd64 3.8.0-1 [131 kB]
Get:10 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libopenipmi0 amd64 2.0.25-2ubuntu1 [452 kB]
Get:11 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libplumbgpl2 amd64 1.0.12-10 [8896 B]
Get:12 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libsensors4 amd64 1:3.4.0-4 [28.8 kB]
Get:13 http://archive.ubuntu.com/ubuntu cosmic-updates/main amd64 libsnmp-base all 5.7.3+dfsg-1.8ubuntu3.18.10.1 [224 kB]
Get:14 http://archive.ubuntu.com/ubuntu cosmic-updates/main amd64 libsnmp30 amd64 5.7.3+dfsg-1.8ubuntu3.18.10.1 [938 kB]
Get:15 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libstonith1 amd64 1.0.12-10 [12.7 kB]
Get:16 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libtimedate-perl all 2.3000-2 [37.5 kB]
Get:17 http://archive.ubuntu.com/ubuntu cosmic/main amd64 cluster-glue amd64 1.0.12-10 [258 kB]
Get:18 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libcorosync-common4 amd64 2.4.4-3 [8152 B]
Get:19 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libqb0 amd64 1.0.3-1 [63.1 kB]
Get:20 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libcfg6 amd64 2.4.4-3 [7772 B]
Get:21 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libcmap4 amd64 2.4.4-3 [9552 B]
Get:22 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libcpg4 amd64 2.4.4-3 [11.5 kB]
Get:23 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libquorum5 amd64 2.4.4-3 [6600 B]
Get:24 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libstatgrab10 amd64 0.91-1build2 [33.9 kB]
Get:25 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libnl-3-200 amd64 3.4.0-1 [53.9 kB]
Get:26 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libnl-route-3-200 amd64 3.4.0-1 [149 kB]
Get:27 http://archive.ubuntu.com/ubuntu cosmic-updates/main amd64 libibverbs1 amd64 19.0-1ubuntu0.1 [49.1 kB]
Get:28 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libnspr4 amd64 2:4.18-1ubuntu1 [112 kB]
Get:29 http://archive.ubuntu.com/ubuntu cosmic-updates/main amd64 libnss3 amd64 2:3.36.1-1ubuntu1.1 [1143 kB]
Get:30 http://archive.ubuntu.com/ubuntu cosmic-updates/main amd64 librdmacm1 amd64 19.0-1ubuntu0.1 [63.1 kB]
Get:31 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libtotem-pg5 amd64 2.4.4-3 [68.9 kB]
Get:32 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libvotequorum8 amd64 2.4.4-3 [7692 B]
Get:33 http://archive.ubuntu.com/ubuntu cosmic/main amd64 xsltproc amd64 1.1.32-2 [14.0 kB]
Get:34 http://archive.ubuntu.com/ubuntu cosmic/main amd64 corosync amd64 2.4.4-3 [174 kB]
Get:35 http://archive.ubuntu.com/ubuntu cosmic/main amd64 xml-core all 0.18 [21.3 kB]
Get:36 http://archive.ubuntu.com/ubuntu cosmic/main amd64 docutils-common all 0.14+dfsg-3 [156 kB]
Get:37 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-dateutil all 2.6.1-1 [52.3 kB]
Get:38 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-roman all 2.0.0-3 [8624 B]
Get:39 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-docutils all 0.14+dfsg-3 [363 kB]
Get:40 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-jmespath all 0.9.3-1ubuntu1 [18.7 kB]
Get:41 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 python3-botocore all 1.12.16+repack-1 [2129 kB]
Get:42 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 python3-s3transfer all 0.1.13-1 [39.8 kB]
Get:43 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 python3-boto3 all 1.4.2-1 [61.8 kB]
Get:44 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-monotonic all 1.1-2 [5332 B]
Get:45 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 python3-fasteners all 0.12.0-3 [13.5 kB]
Get:46 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 python3-rsa all 3.4.2-1 [29.0 kB]
Get:47 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-sqlalchemy all 1.2.8+ds1-1ubuntu2 [712 kB]
Get:48 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 python3-oauth2client all 4.1.2-3 [61.5 kB]
Get:49 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 python3-googleapi all 1.5.5-1 [38.3 kB]
Get:50 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-pycurl amd64 7.43.0.1-0.2build1 [42.7 kB]
Get:51 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-ptyprocess all 0.6.0-1 [13.2 kB]
Get:52 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-pexpect all 4.6.0-1 [44.7 kB]
Get:53 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 python3-suds all 0.7~git20150727.94664dd-5 [145 kB]
Get:54 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 fence-agents amd64 4.2.1-1 [213 kB]
Get:55 http://archive.ubuntu.com/ubuntu cosmic/main amd64 fonts-dejavu-core all 2.37-1 [1041 kB]
Get:56 http://archive.ubuntu.com/ubuntu cosmic/main amd64 fonts-liberation all 1:1.07.4-7 [822 kB]
Get:57 http://archive.ubuntu.com/ubuntu cosmic-updates/main amd64 ibverbs-providers amd64 19.0-1ubuntu0.1 [173 kB]
Get:58 http://archive.ubuntu.com/ubuntu cosmic/main amd64 javascript-common all 11 [6066 B]
Get:59 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libcrmcommon3 amd64 1.1.18-2ubuntu1 [148 kB]
Get:60 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libpe-rules2 amd64 1.1.18-2ubuntu1 [27.6 kB]
Get:61 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libcib4 amd64 1.1.18-2ubuntu1 [51.9 kB]
Get:62 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libstonithd2 amd64 1.1.18-2ubuntu1 [33.9 kB]
Get:63 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libcrmcluster4 amd64 1.1.18-2ubuntu1 [41.7 kB]
Get:64 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libcrmservice3 amd64 1.1.18-2ubuntu1 [37.5 kB]
Get:65 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libesmtp6 amd64 1.0.6-4.3build1 [40.6 kB]
Get:66 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libjpeg-turbo8 amd64 2.0.0-0ubuntu2 [117 kB]
Get:67 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libjpeg8 amd64 8c-2ubuntu8 [2194 B]
Get:68 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libjs-jquery all 3.2.1-1 [152 kB]
Get:69 http://archive.ubuntu.com/ubuntu cosmic/main amd64 liblcms2-2 amd64 2.9-3 [139 kB]
Get:70 http://archive.ubuntu.com/ubuntu cosmic/main amd64 liblrmd1 amd64 1.1.18-2ubuntu1 [29.5 kB]
Get:71 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 libnet-telnet-perl all 3.04-1 [59.9 kB]
Get:72 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libnet1 amd64 1.1.6+dfsg-3.1 [42.9 kB]
Get:73 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libpaper1 amd64 1.1.24+nmu5ubuntu1 [13.6 kB]
Get:74 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libpaper-utils amd64 1.1.24+nmu5ubuntu1 [8170 B]
Get:75 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libpe-status10 amd64 1.1.18-2ubuntu1 [118 kB]
Get:76 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libpengine10 amd64 1.1.18-2ubuntu1 [143 kB]
Get:77 http://archive.ubuntu.com/ubuntu cosmic/main amd64 rubygems-integration all 1.11 [4994 B]
Get:78 http://archive.ubuntu.com/ubuntu cosmic-updates/main amd64 ruby2.5 amd64 2.5.1-5ubuntu4.1 [48.7 kB]
Get:79 http://archive.ubuntu.com/ubuntu cosmic/main amd64 ruby amd64 1:2.5.1 [5712 B]
Get:80 http://archive.ubuntu.com/ubuntu cosmic/main amd64 rake all 12.3.1-3 [44.9 kB]
Get:81 http://archive.ubuntu.com/ubuntu cosmic/main amd64 ruby-did-you-mean all 1.2.1-1 [9828 B]
Get:82 http://archive.ubuntu.com/ubuntu cosmic/main amd64 ruby-minitest all 5.11.3-1 [39.4 kB]
Get:83 http://archive.ubuntu.com/ubuntu cosmic/main amd64 ruby-net-telnet all 0.1.1-2 [12.6 kB]
Get:84 http://archive.ubuntu.com/ubuntu cosmic/main amd64 ruby-power-assert all 1.1.1-1 [11.0 kB]
Get:85 http://archive.ubuntu.com/ubuntu cosmic/main amd64 ruby-test-unit all 3.2.8-1 [61.4 kB]
Get:86 http://archive.ubuntu.com/ubuntu cosmic/main amd64 ruby-xmlrpc all 0.3.0-2 [23.8 kB]
Get:87 http://archive.ubuntu.com/ubuntu cosmic-updates/main amd64 libruby2.5 amd64 2.5.1-5ubuntu4.1 [3080 kB]
Get:88 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libsgutils2-2 amd64 1.42-2ubuntu1 [59.3 kB]
Get:89 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libjbig0 amd64 2.1-3.1build1 [26.7 kB]
Get:90 http://archive.ubuntu.com/ubuntu cosmic-updates/main amd64 libtiff5 amd64 4.0.9-6ubuntu0.1 [152 kB]
Get:91 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libtransitioner2 amd64 1.1.18-2ubuntu1 [21.5 kB]
Get:92 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libwebp6 amd64 0.6.1-2 [185 kB]
Get:93 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libwebpdemux2 amd64 0.6.1-2 [9472 B]
Get:94 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libwebpmux3 amd64 0.6.1-2 [19.6 kB]
Get:95 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libxml2-utils amd64 2.9.4+dfsg1-7ubuntu1 [36.3 kB]
Get:96 http://archive.ubuntu.com/ubuntu cosmic/main amd64 openhpid amd64 3.8.0-1 [65.8 kB]
Get:97 http://archive.ubuntu.com/ubuntu cosmic/main amd64 pacemaker-common all 1.1.18-2ubuntu1 [54.6 kB]                        
Get:98 http://archive.ubuntu.com/ubuntu cosmic/main amd64 resource-agents amd64 1:4.1.1-2 [603 kB]                              
Get:99 http://archive.ubuntu.com/ubuntu cosmic/main amd64 pacemaker-resource-agents all 1.1.18-2ubuntu1 [47.5 kB]               
Get:100 http://archive.ubuntu.com/ubuntu cosmic/main amd64 pacemaker amd64 1.1.18-2ubuntu1 [317 kB]                             
Get:101 http://archive.ubuntu.com/ubuntu cosmic/main amd64 pacemaker-cli-utils amd64 1.1.18-2ubuntu1 [166 kB]                   
Get:102 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-bs4 all 4.6.3-1 [71.5 kB]                                    
Get:103 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-webencodings all 0.5-2 [10.4 kB]                             
Get:104 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-html5lib all 1.0.1-1 [84.2 kB]                               
Get:105 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-lxml amd64 4.2.5-1 [1894 kB]                                 
Get:106 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-olefile all 0.46-1 [33.6 kB]                                 
Get:107 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-pil amd64 5.2.0-2 [346 kB]                                   
Get:108 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-pygments all 2.2.0+dfsg-2 [574 kB]                           
Get:109 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-sqlalchemy-ext amd64 1.2.8+ds1-1ubuntu2 [14.2 kB]            
Get:110 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-i18n all 0.7.0-2 [34.1 kB]                                  
Get:111 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-json amd64 2.1.0+dfsg-2 [42.8 kB]                           
Get:112 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-atomic amd64 1.1.16-2build7 [9968 B]                        
Get:113 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-thread-safe all 0.3.6-1 [26.4 kB]                           
Get:114 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-tzinfo all 1.2.5-1 [35.1 kB]                                
Get:115 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-activesupport all 2:4.2.10-0ubuntu4 [202 kB]                
Get:116 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-backports all 3.11.1-1 [99.2 kB]                            
Get:117 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-ffi amd64 1.9.10debian-1build4 [74.9 kB]                    
Get:118 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-mime-types-data all 3.2015.1120-1 [66.7 kB]                 
Get:119 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-mime-types all 3.1-1 [20.1 kB]                              
Get:120 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-ethon all 0.9.0-2 [31.1 kB]                                 
Get:121 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-highline all 1.7.8-1 [40.7 kB]                              
Get:122 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-multi-json all 1.12.1-1 [15.5 kB]                           
Get:123 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-oj amd64 3.6.6-1 [117 kB]                                   
Get:124 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-open4 all 1.3.4-1 [14.3 kB]                                 
Get:125 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-rack all 1.6.4-4 [81.2 kB]                                  
Get:126 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-rack-protection all 1.5.3-2.1 [10.3 kB]                     
Get:127 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-rack-test all 0.7.0-1 [11.8 kB]                             
Get:128 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-rpam-ruby19 amd64 1.2.1-1build4 [6000 B]                    
Get:129 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-tilt all 2.0.8-1 [26.2 kB]                                  
Get:130 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-sinatra all 1.4.8-1 [300 kB]                                
Get:131 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-sinatra-contrib all 1.4.7-1 [27.1 kB]                       
Get:132 http://archive.ubuntu.com/ubuntu cosmic/main amd64 sg3-utils amd64 1.42-2ubuntu1 [743 kB]                               
Get:133 http://archive.ubuntu.com/ubuntu cosmic-updates/main amd64 snmp amd64 5.7.3+dfsg-1.8ubuntu3.18.10.1 [158 kB]            
Get:134 http://archive.ubuntu.com/ubuntu cosmic/main amd64 unzip amd64 6.0-21ubuntu1 [167 kB]                                   
Get:135 http://archive.ubuntu.com/ubuntu cosmic/main amd64 zip amd64 3.0-11build1 [167 kB]                                      
Get:136 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 pcs all 0.9.165-1 [1000 kB]                                      
Fetched 26.1 MB in 9s (2994 kB/s)                                                                                               
Extracting templates from packages: 100%
Preconfiguring packages ...
Selecting previously unselected package fonts-lato.
(Reading database ... 28279 files and directories currently installed.)
Preparing to unpack .../000-fonts-lato_2.0-2_all.deb ...
Unpacking fonts-lato (2.0-2) ...
Selecting previously unselected package python3-uritemplate.
Preparing to unpack .../001-python3-uritemplate_0.6-1ubuntu1_all.deb ...
Unpacking python3-uritemplate (0.6-1ubuntu1) ...
Selecting previously unselected package sgml-base.
Preparing to unpack .../002-sgml-base_1.29_all.deb ...
Unpacking sgml-base (1.29) ...
Selecting previously unselected package libdbus-glib-1-2:amd64.
Preparing to unpack .../003-libdbus-glib-1-2_0.110-3_amd64.deb ...
Unpacking libdbus-glib-1-2:amd64 (0.110-3) ...
Selecting previously unselected package libltdl7:amd64.
Preparing to unpack .../004-libltdl7_2.4.6-4_amd64.deb ...
Unpacking libltdl7:amd64 (2.4.6-4) ...
Selecting previously unselected package libpils2.
Preparing to unpack .../005-libpils2_1.0.12-10_amd64.deb ...
Unpacking libpils2 (1.0.12-10) ...
Selecting previously unselected package libplumb2.
Preparing to unpack .../006-libplumb2_1.0.12-10_amd64.deb ...
Unpacking libplumb2 (1.0.12-10) ...
Selecting previously unselected package liblrm2.
Preparing to unpack .../007-liblrm2_1.0.12-10_amd64.deb ...
Unpacking liblrm2 (1.0.12-10) ...
Selecting previously unselected package libopenhpi3.
Preparing to unpack .../008-libopenhpi3_3.8.0-1_amd64.deb ...
Unpacking libopenhpi3 (3.8.0-1) ...
Selecting previously unselected package libopenipmi0.
Preparing to unpack .../009-libopenipmi0_2.0.25-2ubuntu1_amd64.deb ...
Unpacking libopenipmi0 (2.0.25-2ubuntu1) ...
Selecting previously unselected package libplumbgpl2.
Preparing to unpack .../010-libplumbgpl2_1.0.12-10_amd64.deb ...
Unpacking libplumbgpl2 (1.0.12-10) ...
Selecting previously unselected package libsensors4:amd64.
Preparing to unpack .../011-libsensors4_1%3a3.4.0-4_amd64.deb ...
Unpacking libsensors4:amd64 (1:3.4.0-4) ...
Selecting previously unselected package libsnmp-base.
Preparing to unpack .../012-libsnmp-base_5.7.3+dfsg-1.8ubuntu3.18.10.1_all.deb ...
Unpacking libsnmp-base (5.7.3+dfsg-1.8ubuntu3.18.10.1) ...
Selecting previously unselected package libsnmp30:amd64.
Preparing to unpack .../013-libsnmp30_5.7.3+dfsg-1.8ubuntu3.18.10.1_amd64.deb ...
Unpacking libsnmp30:amd64 (5.7.3+dfsg-1.8ubuntu3.18.10.1) ...
Selecting previously unselected package libstonith1.
Preparing to unpack .../014-libstonith1_1.0.12-10_amd64.deb ...
Unpacking libstonith1 (1.0.12-10) ...
Selecting previously unselected package libtimedate-perl.
Preparing to unpack .../015-libtimedate-perl_2.3000-2_all.deb ...
Unpacking libtimedate-perl (2.3000-2) ...
Selecting previously unselected package cluster-glue.
Preparing to unpack .../016-cluster-glue_1.0.12-10_amd64.deb ...
Unpacking cluster-glue (1.0.12-10) ...
Selecting previously unselected package libcorosync-common4:amd64.
Preparing to unpack .../017-libcorosync-common4_2.4.4-3_amd64.deb ...
Unpacking libcorosync-common4:amd64 (2.4.4-3) ...
Selecting previously unselected package libqb0:amd64.
Preparing to unpack .../018-libqb0_1.0.3-1_amd64.deb ...
Unpacking libqb0:amd64 (1.0.3-1) ...
Selecting previously unselected package libcfg6:amd64.
Preparing to unpack .../019-libcfg6_2.4.4-3_amd64.deb ...
Unpacking libcfg6:amd64 (2.4.4-3) ...
Selecting previously unselected package libcmap4:amd64.
Preparing to unpack .../020-libcmap4_2.4.4-3_amd64.deb ...
Unpacking libcmap4:amd64 (2.4.4-3) ...
Selecting previously unselected package libcpg4:amd64.
Preparing to unpack .../021-libcpg4_2.4.4-3_amd64.deb ...
Unpacking libcpg4:amd64 (2.4.4-3) ...
Selecting previously unselected package libquorum5:amd64.
Preparing to unpack .../022-libquorum5_2.4.4-3_amd64.deb ...
Unpacking libquorum5:amd64 (2.4.4-3) ...
Selecting previously unselected package libstatgrab10.
Preparing to unpack .../023-libstatgrab10_0.91-1build2_amd64.deb ...
Unpacking libstatgrab10 (0.91-1build2) ...
Selecting previously unselected package libnl-3-200:amd64.
Preparing to unpack .../024-libnl-3-200_3.4.0-1_amd64.deb ...
Unpacking libnl-3-200:amd64 (3.4.0-1) ...
Selecting previously unselected package libnl-route-3-200:amd64.
Preparing to unpack .../025-libnl-route-3-200_3.4.0-1_amd64.deb ...
Unpacking libnl-route-3-200:amd64 (3.4.0-1) ...
Selecting previously unselected package libibverbs1:amd64.
Preparing to unpack .../026-libibverbs1_19.0-1ubuntu0.1_amd64.deb ...
Unpacking libibverbs1:amd64 (19.0-1ubuntu0.1) ...
Selecting previously unselected package libnspr4:amd64.
Preparing to unpack .../027-libnspr4_2%3a4.18-1ubuntu1_amd64.deb ...
Unpacking libnspr4:amd64 (2:4.18-1ubuntu1) ...
Selecting previously unselected package libnss3:amd64.
Preparing to unpack .../028-libnss3_2%3a3.36.1-1ubuntu1.1_amd64.deb ...
Unpacking libnss3:amd64 (2:3.36.1-1ubuntu1.1) ...
Selecting previously unselected package librdmacm1:amd64.
Preparing to unpack .../029-librdmacm1_19.0-1ubuntu0.1_amd64.deb ...
Unpacking librdmacm1:amd64 (19.0-1ubuntu0.1) ...
Selecting previously unselected package libtotem-pg5:amd64.
Preparing to unpack .../030-libtotem-pg5_2.4.4-3_amd64.deb ...
Unpacking libtotem-pg5:amd64 (2.4.4-3) ...
Selecting previously unselected package libvotequorum8:amd64.
Preparing to unpack .../031-libvotequorum8_2.4.4-3_amd64.deb ...
Unpacking libvotequorum8:amd64 (2.4.4-3) ...
Selecting previously unselected package xsltproc.
Preparing to unpack .../032-xsltproc_1.1.32-2_amd64.deb ...
Unpacking xsltproc (1.1.32-2) ...
Selecting previously unselected package corosync.
Preparing to unpack .../033-corosync_2.4.4-3_amd64.deb ...
Unpacking corosync (2.4.4-3) ...
Selecting previously unselected package xml-core.
Preparing to unpack .../034-xml-core_0.18_all.deb ...
Unpacking xml-core (0.18) ...
Selecting previously unselected package docutils-common.
Preparing to unpack .../035-docutils-common_0.14+dfsg-3_all.deb ...
Unpacking docutils-common (0.14+dfsg-3) ...
Selecting previously unselected package python3-dateutil.
Preparing to unpack .../036-python3-dateutil_2.6.1-1_all.deb ...
Unpacking python3-dateutil (2.6.1-1) ...
Selecting previously unselected package python3-roman.
Preparing to unpack .../037-python3-roman_2.0.0-3_all.deb ...
Unpacking python3-roman (2.0.0-3) ...
Selecting previously unselected package python3-docutils.
Preparing to unpack .../038-python3-docutils_0.14+dfsg-3_all.deb ...
Unpacking python3-docutils (0.14+dfsg-3) ...
Selecting previously unselected package python3-jmespath.
Preparing to unpack .../039-python3-jmespath_0.9.3-1ubuntu1_all.deb ...
Unpacking python3-jmespath (0.9.3-1ubuntu1) ...
Selecting previously unselected package python3-botocore.
Preparing to unpack .../040-python3-botocore_1.12.16+repack-1_all.deb ...
Unpacking python3-botocore (1.12.16+repack-1) ...
Selecting previously unselected package python3-s3transfer.
Preparing to unpack .../041-python3-s3transfer_0.1.13-1_all.deb ...
Unpacking python3-s3transfer (0.1.13-1) ...
Selecting previously unselected package python3-boto3.
Preparing to unpack .../042-python3-boto3_1.4.2-1_all.deb ...
Unpacking python3-boto3 (1.4.2-1) ...
Selecting previously unselected package python3-monotonic.
Preparing to unpack .../043-python3-monotonic_1.1-2_all.deb ...
Unpacking python3-monotonic (1.1-2) ...
Selecting previously unselected package python3-fasteners.
Preparing to unpack .../044-python3-fasteners_0.12.0-3_all.deb ...
Unpacking python3-fasteners (0.12.0-3) ...
Selecting previously unselected package python3-rsa.
Preparing to unpack .../045-python3-rsa_3.4.2-1_all.deb ...
Unpacking python3-rsa (3.4.2-1) ...
Selecting previously unselected package python3-sqlalchemy.
Preparing to unpack .../046-python3-sqlalchemy_1.2.8+ds1-1ubuntu2_all.deb ...
Unpacking python3-sqlalchemy (1.2.8+ds1-1ubuntu2) ...
Selecting previously unselected package python3-oauth2client.
Preparing to unpack .../047-python3-oauth2client_4.1.2-3_all.deb ...
Unpacking python3-oauth2client (4.1.2-3) ...
Selecting previously unselected package python3-googleapi.
Preparing to unpack .../048-python3-googleapi_1.5.5-1_all.deb ...
Unpacking python3-googleapi (1.5.5-1) ...
Selecting previously unselected package python3-pycurl.
Preparing to unpack .../049-python3-pycurl_7.43.0.1-0.2build1_amd64.deb ...
Unpacking python3-pycurl (7.43.0.1-0.2build1) ...
Selecting previously unselected package python3-ptyprocess.
Preparing to unpack .../050-python3-ptyprocess_0.6.0-1_all.deb ...
Unpacking python3-ptyprocess (0.6.0-1) ...
Selecting previously unselected package python3-pexpect.
Preparing to unpack .../051-python3-pexpect_4.6.0-1_all.deb ...
Unpacking python3-pexpect (4.6.0-1) ...
Selecting previously unselected package python3-suds.
Preparing to unpack .../052-python3-suds_0.7~git20150727.94664dd-5_all.deb ...
Unpacking python3-suds (0.7~git20150727.94664dd-5) ...
Selecting previously unselected package fence-agents.
Preparing to unpack .../053-fence-agents_4.2.1-1_amd64.deb ...
Unpacking fence-agents (4.2.1-1) ...
Selecting previously unselected package fonts-dejavu-core.
Preparing to unpack .../054-fonts-dejavu-core_2.37-1_all.deb ...
Unpacking fonts-dejavu-core (2.37-1) ...
Selecting previously unselected package fonts-liberation.
Preparing to unpack .../055-fonts-liberation_1%3a1.07.4-7_all.deb ...
Unpacking fonts-liberation (1:1.07.4-7) ...
Selecting previously unselected package ibverbs-providers:amd64.
Preparing to unpack .../056-ibverbs-providers_19.0-1ubuntu0.1_amd64.deb ...
Unpacking ibverbs-providers:amd64 (19.0-1ubuntu0.1) ...
Selecting previously unselected package javascript-common.
Preparing to unpack .../057-javascript-common_11_all.deb ...
Unpacking javascript-common (11) ...
Selecting previously unselected package libcrmcommon3:amd64.
Preparing to unpack .../058-libcrmcommon3_1.1.18-2ubuntu1_amd64.deb ...
Unpacking libcrmcommon3:amd64 (1.1.18-2ubuntu1) ...
Selecting previously unselected package libpe-rules2:amd64.
Preparing to unpack .../059-libpe-rules2_1.1.18-2ubuntu1_amd64.deb ...
Unpacking libpe-rules2:amd64 (1.1.18-2ubuntu1) ...
Selecting previously unselected package libcib4:amd64.
Preparing to unpack .../060-libcib4_1.1.18-2ubuntu1_amd64.deb ...
Unpacking libcib4:amd64 (1.1.18-2ubuntu1) ...
Selecting previously unselected package libstonithd2:amd64.
Preparing to unpack .../061-libstonithd2_1.1.18-2ubuntu1_amd64.deb ...
Unpacking libstonithd2:amd64 (1.1.18-2ubuntu1) ...
Selecting previously unselected package libcrmcluster4:amd64.
Preparing to unpack .../062-libcrmcluster4_1.1.18-2ubuntu1_amd64.deb ...
Unpacking libcrmcluster4:amd64 (1.1.18-2ubuntu1) ...
Selecting previously unselected package libcrmservice3:amd64.
Preparing to unpack .../063-libcrmservice3_1.1.18-2ubuntu1_amd64.deb ...
Unpacking libcrmservice3:amd64 (1.1.18-2ubuntu1) ...
Selecting previously unselected package libesmtp6.
Preparing to unpack .../064-libesmtp6_1.0.6-4.3build1_amd64.deb ...
Unpacking libesmtp6 (1.0.6-4.3build1) ...
Selecting previously unselected package libjpeg-turbo8:amd64.
Preparing to unpack .../065-libjpeg-turbo8_2.0.0-0ubuntu2_amd64.deb ...
Unpacking libjpeg-turbo8:amd64 (2.0.0-0ubuntu2) ...
Selecting previously unselected package libjpeg8:amd64.
Preparing to unpack .../066-libjpeg8_8c-2ubuntu8_amd64.deb ...
Unpacking libjpeg8:amd64 (8c-2ubuntu8) ...
Selecting previously unselected package libjs-jquery.
Preparing to unpack .../067-libjs-jquery_3.2.1-1_all.deb ...
Unpacking libjs-jquery (3.2.1-1) ...
Selecting previously unselected package liblcms2-2:amd64.
Preparing to unpack .../068-liblcms2-2_2.9-3_amd64.deb ...
Unpacking liblcms2-2:amd64 (2.9-3) ...
Selecting previously unselected package liblrmd1:amd64.
Preparing to unpack .../069-liblrmd1_1.1.18-2ubuntu1_amd64.deb ...
Unpacking liblrmd1:amd64 (1.1.18-2ubuntu1) ...
Selecting previously unselected package libnet-telnet-perl.
Preparing to unpack .../070-libnet-telnet-perl_3.04-1_all.deb ...
Unpacking libnet-telnet-perl (3.04-1) ...
Selecting previously unselected package libnet1:amd64.
Preparing to unpack .../071-libnet1_1.1.6+dfsg-3.1_amd64.deb ...
Unpacking libnet1:amd64 (1.1.6+dfsg-3.1) ...
Selecting previously unselected package libpaper1:amd64.
Preparing to unpack .../072-libpaper1_1.1.24+nmu5ubuntu1_amd64.deb ...
Unpacking libpaper1:amd64 (1.1.24+nmu5ubuntu1) ...
Selecting previously unselected package libpaper-utils.
Preparing to unpack .../073-libpaper-utils_1.1.24+nmu5ubuntu1_amd64.deb ...
Unpacking libpaper-utils (1.1.24+nmu5ubuntu1) ...
Selecting previously unselected package libpe-status10:amd64.
Preparing to unpack .../074-libpe-status10_1.1.18-2ubuntu1_amd64.deb ...
Unpacking libpe-status10:amd64 (1.1.18-2ubuntu1) ...
Selecting previously unselected package libpengine10:amd64.
Preparing to unpack .../075-libpengine10_1.1.18-2ubuntu1_amd64.deb ...
Unpacking libpengine10:amd64 (1.1.18-2ubuntu1) ...
Selecting previously unselected package rubygems-integration.
Preparing to unpack .../076-rubygems-integration_1.11_all.deb ...
Unpacking rubygems-integration (1.11) ...
Selecting previously unselected package ruby2.5.
Preparing to unpack .../077-ruby2.5_2.5.1-5ubuntu4.1_amd64.deb ...
Unpacking ruby2.5 (2.5.1-5ubuntu4.1) ...
Selecting previously unselected package ruby.
Preparing to unpack .../078-ruby_1%3a2.5.1_amd64.deb ...
Unpacking ruby (1:2.5.1) ...
Selecting previously unselected package rake.
Preparing to unpack .../079-rake_12.3.1-3_all.deb ...
Unpacking rake (12.3.1-3) ...
Selecting previously unselected package ruby-did-you-mean.
Preparing to unpack .../080-ruby-did-you-mean_1.2.1-1_all.deb ...
Unpacking ruby-did-you-mean (1.2.1-1) ...
Selecting previously unselected package ruby-minitest.
Preparing to unpack .../081-ruby-minitest_5.11.3-1_all.deb ...
Unpacking ruby-minitest (5.11.3-1) ...
Selecting previously unselected package ruby-net-telnet.
Preparing to unpack .../082-ruby-net-telnet_0.1.1-2_all.deb ...
Unpacking ruby-net-telnet (0.1.1-2) ...
Selecting previously unselected package ruby-power-assert.
Preparing to unpack .../083-ruby-power-assert_1.1.1-1_all.deb ...
Unpacking ruby-power-assert (1.1.1-1) ...
Selecting previously unselected package ruby-test-unit.
Preparing to unpack .../084-ruby-test-unit_3.2.8-1_all.deb ...
Unpacking ruby-test-unit (3.2.8-1) ...
Selecting previously unselected package ruby-xmlrpc.
Preparing to unpack .../085-ruby-xmlrpc_0.3.0-2_all.deb ...
Unpacking ruby-xmlrpc (0.3.0-2) ...
Selecting previously unselected package libruby2.5:amd64.
Preparing to unpack .../086-libruby2.5_2.5.1-5ubuntu4.1_amd64.deb ...
Unpacking libruby2.5:amd64 (2.5.1-5ubuntu4.1) ...
Selecting previously unselected package libsgutils2-2.
Preparing to unpack .../087-libsgutils2-2_1.42-2ubuntu1_amd64.deb ...
Unpacking libsgutils2-2 (1.42-2ubuntu1) ...
Selecting previously unselected package libjbig0:amd64.
Preparing to unpack .../088-libjbig0_2.1-3.1build1_amd64.deb ...
Unpacking libjbig0:amd64 (2.1-3.1build1) ...
Selecting previously unselected package libtiff5:amd64.
Preparing to unpack .../089-libtiff5_4.0.9-6ubuntu0.1_amd64.deb ...
Unpacking libtiff5:amd64 (4.0.9-6ubuntu0.1) ...
Selecting previously unselected package libtransitioner2:amd64.
Preparing to unpack .../090-libtransitioner2_1.1.18-2ubuntu1_amd64.deb ...
Unpacking libtransitioner2:amd64 (1.1.18-2ubuntu1) ...
Selecting previously unselected package libwebp6:amd64.
Preparing to unpack .../091-libwebp6_0.6.1-2_amd64.deb ...
Unpacking libwebp6:amd64 (0.6.1-2) ...
Selecting previously unselected package libwebpdemux2:amd64.
Preparing to unpack .../092-libwebpdemux2_0.6.1-2_amd64.deb ...
Unpacking libwebpdemux2:amd64 (0.6.1-2) ...
Selecting previously unselected package libwebpmux3:amd64.
Preparing to unpack .../093-libwebpmux3_0.6.1-2_amd64.deb ...
Unpacking libwebpmux3:amd64 (0.6.1-2) ...
Selecting previously unselected package libxml2-utils.
Preparing to unpack .../094-libxml2-utils_2.9.4+dfsg1-7ubuntu1_amd64.deb ...
Unpacking libxml2-utils (2.9.4+dfsg1-7ubuntu1) ...
Selecting previously unselected package openhpid.
Preparing to unpack .../095-openhpid_3.8.0-1_amd64.deb ...
Unpacking openhpid (3.8.0-1) ...
Selecting previously unselected package pacemaker-common.
Preparing to unpack .../096-pacemaker-common_1.1.18-2ubuntu1_all.deb ...
Unpacking pacemaker-common (1.1.18-2ubuntu1) ...
Selecting previously unselected package resource-agents.
Preparing to unpack .../097-resource-agents_1%3a4.1.1-2_amd64.deb ...
Unpacking resource-agents (1:4.1.1-2) ...
Selecting previously unselected package pacemaker-resource-agents.
Preparing to unpack .../098-pacemaker-resource-agents_1.1.18-2ubuntu1_all.deb ...
Unpacking pacemaker-resource-agents (1.1.18-2ubuntu1) ...
Selecting previously unselected package pacemaker.
Preparing to unpack .../099-pacemaker_1.1.18-2ubuntu1_amd64.deb ...
Unpacking pacemaker (1.1.18-2ubuntu1) ...
Selecting previously unselected package pacemaker-cli-utils.
Preparing to unpack .../100-pacemaker-cli-utils_1.1.18-2ubuntu1_amd64.deb ...
Unpacking pacemaker-cli-utils (1.1.18-2ubuntu1) ...
Selecting previously unselected package python3-bs4.
Preparing to unpack .../101-python3-bs4_4.6.3-1_all.deb ...
Unpacking python3-bs4 (4.6.3-1) ...
Selecting previously unselected package python3-webencodings.
Preparing to unpack .../102-python3-webencodings_0.5-2_all.deb ...
Unpacking python3-webencodings (0.5-2) ...
Selecting previously unselected package python3-html5lib.
Preparing to unpack .../103-python3-html5lib_1.0.1-1_all.deb ...
Unpacking python3-html5lib (1.0.1-1) ...
Selecting previously unselected package python3-lxml:amd64.
Preparing to unpack .../104-python3-lxml_4.2.5-1_amd64.deb ...
Unpacking python3-lxml:amd64 (4.2.5-1) ...
Selecting previously unselected package python3-olefile.
Preparing to unpack .../105-python3-olefile_0.46-1_all.deb ...
Unpacking python3-olefile (0.46-1) ...
Selecting previously unselected package python3-pil:amd64.
Preparing to unpack .../106-python3-pil_5.2.0-2_amd64.deb ...
Unpacking python3-pil:amd64 (5.2.0-2) ...
Selecting previously unselected package python3-pygments.
Preparing to unpack .../107-python3-pygments_2.2.0+dfsg-2_all.deb ...
Unpacking python3-pygments (2.2.0+dfsg-2) ...
Selecting previously unselected package python3-sqlalchemy-ext.
Preparing to unpack .../108-python3-sqlalchemy-ext_1.2.8+ds1-1ubuntu2_amd64.deb ...
Unpacking python3-sqlalchemy-ext (1.2.8+ds1-1ubuntu2) ...
Selecting previously unselected package ruby-i18n.
Preparing to unpack .../109-ruby-i18n_0.7.0-2_all.deb ...
Unpacking ruby-i18n (0.7.0-2) ...
Selecting previously unselected package ruby-json.
Preparing to unpack .../110-ruby-json_2.1.0+dfsg-2_amd64.deb ...
Unpacking ruby-json (2.1.0+dfsg-2) ...
Selecting previously unselected package ruby-atomic.
Preparing to unpack .../111-ruby-atomic_1.1.16-2build7_amd64.deb ...
Unpacking ruby-atomic (1.1.16-2build7) ...
Selecting previously unselected package ruby-thread-safe.
Preparing to unpack .../112-ruby-thread-safe_0.3.6-1_all.deb ...
Unpacking ruby-thread-safe (0.3.6-1) ...
Selecting previously unselected package ruby-tzinfo.
Preparing to unpack .../113-ruby-tzinfo_1.2.5-1_all.deb ...
Unpacking ruby-tzinfo (1.2.5-1) ...
Selecting previously unselected package ruby-activesupport.
Preparing to unpack .../114-ruby-activesupport_2%3a4.2.10-0ubuntu4_all.deb ...
Unpacking ruby-activesupport (2:4.2.10-0ubuntu4) ...
Selecting previously unselected package ruby-backports.
Preparing to unpack .../115-ruby-backports_3.11.1-1_all.deb ...
Unpacking ruby-backports (3.11.1-1) ...
Selecting previously unselected package ruby-ffi.
Preparing to unpack .../116-ruby-ffi_1.9.10debian-1build4_amd64.deb ...
Unpacking ruby-ffi (1.9.10debian-1build4) ...
Selecting previously unselected package ruby-mime-types-data.
Preparing to unpack .../117-ruby-mime-types-data_3.2015.1120-1_all.deb ...
Unpacking ruby-mime-types-data (3.2015.1120-1) ...
Selecting previously unselected package ruby-mime-types.
Preparing to unpack .../118-ruby-mime-types_3.1-1_all.deb ...
Unpacking ruby-mime-types (3.1-1) ...
Selecting previously unselected package ruby-ethon.
Preparing to unpack .../119-ruby-ethon_0.9.0-2_all.deb ...
Unpacking ruby-ethon (0.9.0-2) ...
Selecting previously unselected package ruby-highline.
Preparing to unpack .../120-ruby-highline_1.7.8-1_all.deb ...
Unpacking ruby-highline (1.7.8-1) ...
Selecting previously unselected package ruby-multi-json.
Preparing to unpack .../121-ruby-multi-json_1.12.1-1_all.deb ...
Unpacking ruby-multi-json (1.12.1-1) ...
Selecting previously unselected package ruby-oj:amd64.
Preparing to unpack .../122-ruby-oj_3.6.6-1_amd64.deb ...
Unpacking ruby-oj:amd64 (3.6.6-1) ...
Selecting previously unselected package ruby-open4.
Preparing to unpack .../123-ruby-open4_1.3.4-1_all.deb ...
Unpacking ruby-open4 (1.3.4-1) ...
Selecting previously unselected package ruby-rack.
Preparing to unpack .../124-ruby-rack_1.6.4-4_all.deb ...
Unpacking ruby-rack (1.6.4-4) ...
Selecting previously unselected package ruby-rack-protection.
Preparing to unpack .../125-ruby-rack-protection_1.5.3-2.1_all.deb ...
Unpacking ruby-rack-protection (1.5.3-2.1) ...
Selecting previously unselected package ruby-rack-test.
Preparing to unpack .../126-ruby-rack-test_0.7.0-1_all.deb ...
Unpacking ruby-rack-test (0.7.0-1) ...
Selecting previously unselected package ruby-rpam-ruby19.
Preparing to unpack .../127-ruby-rpam-ruby19_1.2.1-1build4_amd64.deb ...
Unpacking ruby-rpam-ruby19 (1.2.1-1build4) ...
Selecting previously unselected package ruby-tilt.
Preparing to unpack .../128-ruby-tilt_2.0.8-1_all.deb ...
Unpacking ruby-tilt (2.0.8-1) ...
Selecting previously unselected package ruby-sinatra.
Preparing to unpack .../129-ruby-sinatra_1.4.8-1_all.deb ...
Unpacking ruby-sinatra (1.4.8-1) ...
Selecting previously unselected package ruby-sinatra-contrib.
Preparing to unpack .../130-ruby-sinatra-contrib_1.4.7-1_all.deb ...
Unpacking ruby-sinatra-contrib (1.4.7-1) ...
Selecting previously unselected package sg3-utils.
Preparing to unpack .../131-sg3-utils_1.42-2ubuntu1_amd64.deb ...
Unpacking sg3-utils (1.42-2ubuntu1) ...
Selecting previously unselected package snmp.
Preparing to unpack .../132-snmp_5.7.3+dfsg-1.8ubuntu3.18.10.1_amd64.deb ...
Unpacking snmp (5.7.3+dfsg-1.8ubuntu3.18.10.1) ...
Selecting previously unselected package unzip.
Preparing to unpack .../133-unzip_6.0-21ubuntu1_amd64.deb ...
Unpacking unzip (6.0-21ubuntu1) ...
Selecting previously unselected package zip.
Preparing to unpack .../134-zip_3.0-11build1_amd64.deb ...
Unpacking zip (3.0-11build1) ...
Selecting previously unselected package pcs.
Preparing to unpack .../135-pcs_0.9.165-1_all.deb ...
Unpacking pcs (0.9.165-1) ...
Setting up libplumbgpl2 (1.0.12-10) ...
Setting up libjs-jquery (3.2.1-1) ...
Setting up libpaper1:amd64 (1.1.24+nmu5ubuntu1) ...

Creating config file /etc/papersize with new version
Setting up python3-sqlalchemy (1.2.8+ds1-1ubuntu2) ...
Setting up libpaper-utils (1.1.24+nmu5ubuntu1) ...
Setting up python3-sqlalchemy-ext (1.2.8+ds1-1ubuntu2) ...
Setting up python3-pycurl (7.43.0.1-0.2build1) ...
Setting up python3-roman (2.0.0-3) ...
Setting up python3-webencodings (0.5-2) ...
Setting up libnet1:amd64 (1.1.6+dfsg-3.1) ...
Setting up ruby-xmlrpc (0.3.0-2) ...
Setting up libnet-telnet-perl (3.04-1) ...
Processing triggers for mime-support (3.60ubuntu1) ...
Setting up python3-lxml:amd64 (4.2.5-1) ...
Setting up python3-olefile (0.46-1) ...
Setting up libopenhpi3 (3.8.0-1) ...
Setting up libtimedate-perl (2.3000-2) ...
Setting up liblcms2-2:amd64 (2.9-3) ...
Setting up libjbig0:amd64 (2.1-3.1build1) ...
Setting up fonts-dejavu-core (2.37-1) ...
Setting up libdbus-glib-1-2:amd64 (0.110-3) ...
Setting up unzip (6.0-21ubuntu1) ...
Setting up libxml2-utils (2.9.4+dfsg1-7ubuntu1) ...
Setting up libesmtp6 (1.0.6-4.3build1) ...
Setting up xsltproc (1.1.32-2) ...
Setting up libjpeg-turbo8:amd64 (2.0.0-0ubuntu2) ...
Setting up sgml-base (1.29) ...
Setting up python3-bs4 (4.6.3-1) ...
Setting up fonts-liberation (1:1.07.4-7) ...
Setting up libstatgrab10 (0.91-1build2) ...
Setting up libnspr4:amd64 (2:4.18-1ubuntu1) ...
Setting up zip (3.0-11build1) ...
Setting up python3-suds (0.7~git20150727.94664dd-5) ...
Setting up openhpid (3.8.0-1) ...
Setting up fonts-lato (2.0-2) ...
Setting up python3-rsa (3.4.2-1) ...
Setting up libsgutils2-2 (1.42-2ubuntu1) ...
Setting up ruby-did-you-mean (1.2.1-1) ...
Setting up pacemaker-common (1.1.18-2ubuntu1) ...
Adding group `haclient' (GID 116) ...
Done.
Adding system user `hacluster' (UID 110) ...
Adding new user `hacluster' (UID 110) with group `haclient' ...
Not creating home directory `/var/lib/pacemaker'.
1+0 records in
1+0 records out
4096 bytes (4.1 kB, 4.0 KiB) copied, 6.65e-05 s, 61.6 MB/s
Processing triggers for libc-bin (2.28-0ubuntu1) ...
Setting up python3-monotonic (1.1-2) ...
Setting up python3-html5lib (1.0.1-1) ...
Processing triggers for systemd (239-7ubuntu10.6) ...
Setting up libltdl7:amd64 (2.4.6-4) ...
Setting up ruby-net-telnet (0.1.1-2) ...
Setting up libcorosync-common4:amd64 (2.4.4-3) ...
Setting up rubygems-integration (1.11) ...
Setting up libsensors4:amd64 (1:3.4.0-4) ...
Processing triggers for man-db (2.8.4-2) ...
Processing triggers for shared-mime-info (1.10-1) ...
Setting up python3-jmespath (0.9.3-1ubuntu1) ...
Setting up sg3-utils (1.42-2ubuntu1) ...
Setting up xml-core (0.18) ...
Setting up javascript-common (11) ...
Setting up libnl-3-200:amd64 (3.4.0-1) ...
Setting up ruby-minitest (5.11.3-1) ...
Setting up libqb0:amd64 (1.0.3-1) ...
Setting up python3-ptyprocess (0.6.0-1) ...
Setting up python3-uritemplate (0.6-1ubuntu1) ...
Setting up libopenipmi0 (2.0.25-2ubuntu1) ...
Setting up python3-dateutil (2.6.1-1) ...
Setting up ruby-power-assert (1.1.1-1) ...
Setting up libwebp6:amd64 (0.6.1-2) ...
Setting up libsnmp-base (5.7.3+dfsg-1.8ubuntu3.18.10.1) ...
Setting up libjpeg8:amd64 (8c-2ubuntu8) ...
Setting up python3-pygments (2.2.0+dfsg-2) ...
Setting up python3-fasteners (0.12.0-3) ...
Setting up libsnmp30:amd64 (5.7.3+dfsg-1.8ubuntu3.18.10.1) ...
Setting up libcfg6:amd64 (2.4.4-3) ...
Setting up ruby-test-unit (3.2.8-1) ...
Setting up libvotequorum8:amd64 (2.4.4-3) ...
Setting up libcpg4:amd64 (2.4.4-3) ...
Setting up libcrmcommon3:amd64 (1.1.18-2ubuntu1) ...
Setting up libnss3:amd64 (2:3.36.1-1ubuntu1.1) ...
Setting up libtiff5:amd64 (4.0.9-6ubuntu0.1) ...
Setting up libnl-route-3-200:amd64 (3.4.0-1) ...
Setting up libcmap4:amd64 (2.4.4-3) ...
Setting up libquorum5:amd64 (2.4.4-3) ...
Setting up snmp (5.7.3+dfsg-1.8ubuntu3.18.10.1) ...
Setting up libpils2 (1.0.12-10) ...
Setting up libplumb2 (1.0.12-10) ...
Setting up python3-pexpect (4.6.0-1) ...
Setting up libwebpmux3:amd64 (0.6.1-2) ...
Setting up libwebpdemux2:amd64 (0.6.1-2) ...
Setting up python3-oauth2client (4.1.2-3) ...
Setting up libstonithd2:amd64 (1.1.18-2ubuntu1) ...
Setting up libcrmservice3:amd64 (1.1.18-2ubuntu1) ...
Setting up libibverbs1:amd64 (19.0-1ubuntu0.1) ...
Setting up libtransitioner2:amd64 (1.1.18-2ubuntu1) ...
Setting up python3-pil:amd64 (5.2.0-2) ...
Setting up liblrm2 (1.0.12-10) ...
Setting up libstonith1 (1.0.12-10) ...
Setting up libpe-status10:amd64 (1.1.18-2ubuntu1) ...
Setting up libpe-rules2:amd64 (1.1.18-2ubuntu1) ...
Setting up librdmacm1:amd64 (19.0-1ubuntu0.1) ...
Setting up liblrmd1:amd64 (1.1.18-2ubuntu1) ...
Setting up cluster-glue (1.0.12-10) ...
addgroup: The group `haclient' already exists as a system group. Exiting.
The system user `hacluster' already exists. Exiting.
Created symlink /etc/systemd/system/multi-user.target.wants/logd.service â†’ /lib/systemd/system/logd.service.
Setting up libcib4:amd64 (1.1.18-2ubuntu1) ...
Setting up libcrmcluster4:amd64 (1.1.18-2ubuntu1) ...
Setting up python3-googleapi (1.5.5-1) ...
Setting up ibverbs-providers:amd64 (19.0-1ubuntu0.1) ...
Setting up libtotem-pg5:amd64 (2.4.4-3) ...
Setting up libpengine10:amd64 (1.1.18-2ubuntu1) ...
Setting up resource-agents (1:4.1.1-2) ...
[resource-agents.conf:1] Line references path below legacy directory /var/run/, updating /var/run/resource-agents/ â†’ /run/resource-agents/; please update the tmpfiles.d/ drop-in file accordingly.
resource-agents-deps.target is a disabled or a static unit, not starting it.
Setting up corosync (2.4.4-3) ...
Created symlink /etc/systemd/system/multi-user.target.wants/corosync.service â†’ /lib/systemd/system/corosync.service.
Setting up pacemaker-resource-agents (1.1.18-2ubuntu1) ...
Setting up pacemaker (1.1.18-2ubuntu1) ...
Created symlink /etc/systemd/system/multi-user.target.wants/pacemaker.service â†’ /lib/systemd/system/pacemaker.service.
Setting up pacemaker-cli-utils (1.1.18-2ubuntu1) ...
Processing triggers for sgml-base (1.29) ...
Setting up docutils-common (0.14+dfsg-3) ...
Processing triggers for sgml-base (1.29) ...
Setting up python3-docutils (0.14+dfsg-3) ...
update-alternatives: using /usr/share/docutils/scripts/python3/rst-buildhtml to provide /usr/bin/rst-buildhtml (rst-buildhtml) in auto mode
update-alternatives: using /usr/share/docutils/scripts/python3/rst2html to provide /usr/bin/rst2html (rst2html) in auto mode
update-alternatives: using /usr/share/docutils/scripts/python3/rst2html4 to provide /usr/bin/rst2html4 (rst2html4) in auto mode
update-alternatives: using /usr/share/docutils/scripts/python3/rst2html5 to provide /usr/bin/rst2html5 (rst2html5) in auto mode
update-alternatives: using /usr/share/docutils/scripts/python3/rst2latex to provide /usr/bin/rst2latex (rst2latex) in auto mode
update-alternatives: using /usr/share/docutils/scripts/python3/rst2man to provide /usr/bin/rst2man (rst2man) in auto mode
update-alternatives: using /usr/share/docutils/scripts/python3/rst2odt to provide /usr/bin/rst2odt (rst2odt) in auto mode
update-alternatives: using /usr/share/docutils/scripts/python3/rst2odt_prepstyles to provide /usr/bin/rst2odt_prepstyles (rst2odt_prepstyles) in auto mode
update-alternatives: using /usr/share/docutils/scripts/python3/rst2pseudoxml to provide /usr/bin/rst2pseudoxml (rst2pseudoxml) in auto mode
update-alternatives: using /usr/share/docutils/scripts/python3/rst2s5 to provide /usr/bin/rst2s5 (rst2s5) in auto mode
update-alternatives: using /usr/share/docutils/scripts/python3/rst2xetex to provide /usr/bin/rst2xetex (rst2xetex) in auto mode
update-alternatives: using /usr/share/docutils/scripts/python3/rst2xml to provide /usr/bin/rst2xml (rst2xml) in auto mode
update-alternatives: using /usr/share/docutils/scripts/python3/rstpep2html to provide /usr/bin/rstpep2html (rstpep2html) in auto mode
Setting up python3-botocore (1.12.16+repack-1) ...
Setting up python3-s3transfer (0.1.13-1) ...
Setting up python3-boto3 (1.4.2-1) ...
Setting up fence-agents (4.2.1-1) ...
Setting up rake (12.3.1-3) ...
Setting up libruby2.5:amd64 (2.5.1-5ubuntu4.1) ...
Setting up ruby2.5 (2.5.1-5ubuntu4.1) ...
Setting up ruby (1:2.5.1) ...
Setting up ruby-json (2.1.0+dfsg-2) ...
Setting up ruby-rack (1.6.4-4) ...
Setting up ruby-oj:amd64 (3.6.6-1) ...
Setting up ruby-open4 (1.3.4-1) ...
Setting up ruby-multi-json (1.12.1-1) ...
Setting up ruby-rack-protection (1.5.3-2.1) ...
Setting up ruby-rack-test (0.7.0-1) ...
Setting up ruby-atomic (1.1.16-2build7) ...
Setting up ruby-thread-safe (0.3.6-1) ...
Setting up ruby-tilt (2.0.8-1) ...
Setting up ruby-ffi (1.9.10debian-1build4) ...
Setting up ruby-i18n (0.7.0-2) ...
Setting up ruby-rpam-ruby19 (1.2.1-1build4) ...
Setting up ruby-highline (1.7.8-1) ...
Setting up ruby-backports (3.11.1-1) ...
Setting up ruby-tzinfo (1.2.5-1) ...
Setting up ruby-mime-types-data (3.2015.1120-1) ...
Setting up ruby-mime-types (3.1-1) ...
Setting up ruby-activesupport (2:4.2.10-0ubuntu4) ...
Setting up ruby-ethon (0.9.0-2) ...
Setting up ruby-sinatra (1.4.8-1) ...
Setting up ruby-sinatra-contrib (1.4.7-1) ...
Setting up pcs (0.9.165-1) ...
Created symlink /etc/systemd/system/multi-user.target.wants/pcsd.service â†’ /lib/systemd/system/pcsd.service.
Processing triggers for libc-bin (2.28-0ubuntu1) ...
Processing triggers for systemd (239-7ubuntu10.6) ...
```
GUEST ha-node1:
```shell
$ echo hacluster:hacluster | sudo chpasswd
```
HOST:
```shell
$ lxc launch ubuntu-daily:cosmic ha-node2
Creating ha-node2
Starting ha-node2
Waiting for network
Waiting for network
Waiting for network
Waiting for network
Waiting for network
Waiting for network
```
GUEST ha-node2:
```shell
$ sudo apt update
Hit:1 http://archive.ubuntu.com/ubuntu cosmic InRelease
Get:2 http://archive.ubuntu.com/ubuntu cosmic-updates InRelease [88.7 kB]                            
Get:3 http://security.ubuntu.com/ubuntu cosmic-security InRelease [88.7 kB]                                    
Get:4 http://archive.ubuntu.com/ubuntu cosmic-backports InRelease [74.6 kB]        
Get:5 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 Packages [8803 kB]              
Get:6 http://security.ubuntu.com/ubuntu cosmic-security/universe amd64 Packages [48.1 kB]     
Get:7 http://security.ubuntu.com/ubuntu cosmic-security/universe Translation-en [29.6 kB]
Get:8 http://archive.ubuntu.com/ubuntu cosmic/universe Translation-en [5063 kB]
Get:9 http://security.ubuntu.com/ubuntu cosmic-security/multiverse amd64 Packages [3080 B]
Get:10 http://security.ubuntu.com/ubuntu cosmic-security/multiverse Translation-en [1512 B]     
Get:11 http://archive.ubuntu.com/ubuntu cosmic/multiverse amd64 Packages [158 kB]                       
Get:12 http://archive.ubuntu.com/ubuntu cosmic/multiverse Translation-en [113 kB]
Get:13 http://archive.ubuntu.com/ubuntu cosmic-updates/main amd64 Packages [194 kB]
Get:14 http://archive.ubuntu.com/ubuntu cosmic-updates/universe amd64 Packages [210 kB]
Get:15 http://archive.ubuntu.com/ubuntu cosmic-updates/universe Translation-en [67.5 kB]
Get:16 http://archive.ubuntu.com/ubuntu cosmic-updates/multiverse amd64 Packages [3080 B]
Get:17 http://archive.ubuntu.com/ubuntu cosmic-updates/multiverse Translation-en [1512 B]
Get:18 http://archive.ubuntu.com/ubuntu cosmic-backports/universe amd64 Packages [2888 B]
Get:19 http://archive.ubuntu.com/ubuntu cosmic-backports/universe Translation-en [1268 B]
Fetched 15.0 MB in 3s (4496 kB/s)                                
Reading package lists... Done
Building dependency tree       
Reading state information... Done
All packages are up to date.
```
GUEST ha-node2:
```shell
$ sudo apt dist-upgrade -y
Reading package lists... Done
Building dependency tree       
Reading state information... Done
Calculating upgrade... Done
The following package was automatically installed and is no longer required:
  libfreetype6
Use 'sudo apt autoremove' to remove it.
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
```
GUEST ha-node2:
```shell
$ sudo apt install -y pacemaker pcs corosync fence-agents
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following additional packages will be installed:
  cluster-glue docutils-common fonts-dejavu-core fonts-lato fonts-liberation ibverbs-providers javascript-common libcfg6
  libcib4 libcmap4 libcorosync-common4 libcpg4 libcrmcluster4 libcrmcommon3 libcrmservice3 libdbus-glib-1-2 libesmtp6
  libibverbs1 libjbig0 libjpeg-turbo8 libjpeg8 libjs-jquery liblcms2-2 liblrm2 liblrmd1 libltdl7 libnet-telnet-perl libnet1
  libnl-3-200 libnl-route-3-200 libnspr4 libnss3 libopenhpi3 libopenipmi0 libpaper-utils libpaper1 libpe-rules2 libpe-status10
  libpengine10 libpils2 libplumb2 libplumbgpl2 libqb0 libquorum5 librdmacm1 libruby2.5 libsensors4 libsgutils2-2 libsnmp-base
  libsnmp30 libstatgrab10 libstonith1 libstonithd2 libtiff5 libtimedate-perl libtotem-pg5 libtransitioner2 libvotequorum8
  libwebp6 libwebpdemux2 libwebpmux3 libxml2-utils openhpid pacemaker-cli-utils pacemaker-common pacemaker-resource-agents
  python3-boto3 python3-botocore python3-bs4 python3-dateutil python3-docutils python3-fasteners python3-googleapi
  python3-html5lib python3-jmespath python3-lxml python3-monotonic python3-oauth2client python3-olefile python3-pexpect
  python3-pil python3-ptyprocess python3-pycurl python3-pygments python3-roman python3-rsa python3-s3transfer
  python3-sqlalchemy python3-sqlalchemy-ext python3-suds python3-uritemplate python3-webencodings rake resource-agents ruby
  ruby-activesupport ruby-atomic ruby-backports ruby-did-you-mean ruby-ethon ruby-ffi ruby-highline ruby-i18n ruby-json
  ruby-mime-types ruby-mime-types-data ruby-minitest ruby-multi-json ruby-net-telnet ruby-oj ruby-open4 ruby-power-assert
  ruby-rack ruby-rack-protection ruby-rack-test ruby-rpam-ruby19 ruby-sinatra ruby-sinatra-contrib ruby-test-unit
  ruby-thread-safe ruby-tilt ruby-tzinfo ruby-xmlrpc ruby2.5 rubygems-integration sg3-utils sgml-base snmp unzip xml-core
  xsltproc zip
Suggested packages:
  ipmitool python3-adal python3-azure apache2 | lighttpd | httpd liblcms2-utils lm-sensors snmp-mibs-downloader docutils-doc
  fonts-linuxlibertine | ttf-linux-libertine texlive-lang-french texlive-latex-base texlive-latex-recommended python3-genshi
  python3-lxml-dbg python-lxml-doc python-pexpect-doc python-pil-doc python3-pil-dbg libcurl4-gnutls-dev python-pycurl-doc
  python3-pycurl-dbg python-pygments-doc ttf-bitstream-vera python-sqlalchemy-doc python3-psycopg2 python3-mysqldb python3-fdb
  ri ruby-dev bundler sgml-base-doc debhelper
The following NEW packages will be installed:
  cluster-glue corosync docutils-common fence-agents fonts-dejavu-core fonts-lato fonts-liberation ibverbs-providers
  javascript-common libcfg6 libcib4 libcmap4 libcorosync-common4 libcpg4 libcrmcluster4 libcrmcommon3 libcrmservice3
  libdbus-glib-1-2 libesmtp6 libibverbs1 libjbig0 libjpeg-turbo8 libjpeg8 libjs-jquery liblcms2-2 liblrm2 liblrmd1 libltdl7
  libnet-telnet-perl libnet1 libnl-3-200 libnl-route-3-200 libnspr4 libnss3 libopenhpi3 libopenipmi0 libpaper-utils libpaper1
  libpe-rules2 libpe-status10 libpengine10 libpils2 libplumb2 libplumbgpl2 libqb0 libquorum5 librdmacm1 libruby2.5 libsensors4
  libsgutils2-2 libsnmp-base libsnmp30 libstatgrab10 libstonith1 libstonithd2 libtiff5 libtimedate-perl libtotem-pg5
  libtransitioner2 libvotequorum8 libwebp6 libwebpdemux2 libwebpmux3 libxml2-utils openhpid pacemaker pacemaker-cli-utils
  pacemaker-common pacemaker-resource-agents pcs python3-boto3 python3-botocore python3-bs4 python3-dateutil python3-docutils
  python3-fasteners python3-googleapi python3-html5lib python3-jmespath python3-lxml python3-monotonic python3-oauth2client
  python3-olefile python3-pexpect python3-pil python3-ptyprocess python3-pycurl python3-pygments python3-roman python3-rsa
  python3-s3transfer python3-sqlalchemy python3-sqlalchemy-ext python3-suds python3-uritemplate python3-webencodings rake
  resource-agents ruby ruby-activesupport ruby-atomic ruby-backports ruby-did-you-mean ruby-ethon ruby-ffi ruby-highline
  ruby-i18n ruby-json ruby-mime-types ruby-mime-types-data ruby-minitest ruby-multi-json ruby-net-telnet ruby-oj ruby-open4
  ruby-power-assert ruby-rack ruby-rack-protection ruby-rack-test ruby-rpam-ruby19 ruby-sinatra ruby-sinatra-contrib
  ruby-test-unit ruby-thread-safe ruby-tilt ruby-tzinfo ruby-xmlrpc ruby2.5 rubygems-integration sg3-utils sgml-base snmp unzip
  xml-core xsltproc zip
0 upgraded, 136 newly installed, 0 to remove and 0 not upgraded.
Need to get 26.1 MB of archives.
After this operation, 142 MB of additional disk space will be used.
Get:1 http://archive.ubuntu.com/ubuntu cosmic/main amd64 fonts-lato all 2.0-2 [2698 kB]
Get:2 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 python3-uritemplate all 0.6-1ubuntu1 [5126 B]
Get:3 http://archive.ubuntu.com/ubuntu cosmic/main amd64 sgml-base all 1.29 [12.3 kB]
Get:4 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libdbus-glib-1-2 amd64 0.110-3 [58.3 kB]
Get:5 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libltdl7 amd64 2.4.6-4 [38.7 kB]
Get:6 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libpils2 amd64 1.0.12-10 [18.6 kB]
Get:7 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libplumb2 amd64 1.0.12-10 [73.9 kB]
Get:8 http://archive.ubuntu.com/ubuntu cosmic/main amd64 liblrm2 amd64 1.0.12-10 [15.5 kB]
Get:9 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libopenhpi3 amd64 3.8.0-1 [131 kB]
Get:10 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libopenipmi0 amd64 2.0.25-2ubuntu1 [452 kB]
Get:11 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libplumbgpl2 amd64 1.0.12-10 [8896 B]
Get:12 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libsensors4 amd64 1:3.4.0-4 [28.8 kB]
Get:13 http://archive.ubuntu.com/ubuntu cosmic-updates/main amd64 libsnmp-base all 5.7.3+dfsg-1.8ubuntu3.18.10.1 [224 kB]
Get:14 http://archive.ubuntu.com/ubuntu cosmic-updates/main amd64 libsnmp30 amd64 5.7.3+dfsg-1.8ubuntu3.18.10.1 [938 kB]
Get:15 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libstonith1 amd64 1.0.12-10 [12.7 kB]
Get:16 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libtimedate-perl all 2.3000-2 [37.5 kB]
Get:17 http://archive.ubuntu.com/ubuntu cosmic/main amd64 cluster-glue amd64 1.0.12-10 [258 kB]
Get:18 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libcorosync-common4 amd64 2.4.4-3 [8152 B]
Get:19 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libqb0 amd64 1.0.3-1 [63.1 kB]
Get:20 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libcfg6 amd64 2.4.4-3 [7772 B]
Get:21 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libcmap4 amd64 2.4.4-3 [9552 B]
Get:22 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libcpg4 amd64 2.4.4-3 [11.5 kB]
Get:23 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libquorum5 amd64 2.4.4-3 [6600 B]
Get:24 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libstatgrab10 amd64 0.91-1build2 [33.9 kB]
Get:25 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libnl-3-200 amd64 3.4.0-1 [53.9 kB]
Get:26 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libnl-route-3-200 amd64 3.4.0-1 [149 kB]
Get:27 http://archive.ubuntu.com/ubuntu cosmic-updates/main amd64 libibverbs1 amd64 19.0-1ubuntu0.1 [49.1 kB]
Get:28 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libnspr4 amd64 2:4.18-1ubuntu1 [112 kB]
Get:29 http://archive.ubuntu.com/ubuntu cosmic-updates/main amd64 libnss3 amd64 2:3.36.1-1ubuntu1.1 [1143 kB]
Get:30 http://archive.ubuntu.com/ubuntu cosmic-updates/main amd64 librdmacm1 amd64 19.0-1ubuntu0.1 [63.1 kB]
Get:31 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libtotem-pg5 amd64 2.4.4-3 [68.9 kB]
Get:32 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libvotequorum8 amd64 2.4.4-3 [7692 B]
Get:33 http://archive.ubuntu.com/ubuntu cosmic/main amd64 xsltproc amd64 1.1.32-2 [14.0 kB]
Get:34 http://archive.ubuntu.com/ubuntu cosmic/main amd64 corosync amd64 2.4.4-3 [174 kB]
Get:35 http://archive.ubuntu.com/ubuntu cosmic/main amd64 xml-core all 0.18 [21.3 kB]
Get:36 http://archive.ubuntu.com/ubuntu cosmic/main amd64 docutils-common all 0.14+dfsg-3 [156 kB]
Get:37 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-dateutil all 2.6.1-1 [52.3 kB]
Get:38 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-roman all 2.0.0-3 [8624 B]
Get:39 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-docutils all 0.14+dfsg-3 [363 kB]
Get:40 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-jmespath all 0.9.3-1ubuntu1 [18.7 kB]
Get:41 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 python3-botocore all 1.12.16+repack-1 [2129 kB]
Get:42 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 python3-s3transfer all 0.1.13-1 [39.8 kB]
Get:43 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 python3-boto3 all 1.4.2-1 [61.8 kB]
Get:44 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-monotonic all 1.1-2 [5332 B]
Get:45 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 python3-fasteners all 0.12.0-3 [13.5 kB]
Get:46 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 python3-rsa all 3.4.2-1 [29.0 kB]
Get:47 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-sqlalchemy all 1.2.8+ds1-1ubuntu2 [712 kB]
Get:48 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 python3-oauth2client all 4.1.2-3 [61.5 kB]
Get:49 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 python3-googleapi all 1.5.5-1 [38.3 kB]
Get:50 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-pycurl amd64 7.43.0.1-0.2build1 [42.7 kB]
Get:51 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-ptyprocess all 0.6.0-1 [13.2 kB]
Get:52 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-pexpect all 4.6.0-1 [44.7 kB]
Get:53 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 python3-suds all 0.7~git20150727.94664dd-5 [145 kB]
Get:54 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 fence-agents amd64 4.2.1-1 [213 kB]
Get:55 http://archive.ubuntu.com/ubuntu cosmic/main amd64 fonts-dejavu-core all 2.37-1 [1041 kB]
Get:56 http://archive.ubuntu.com/ubuntu cosmic/main amd64 fonts-liberation all 1:1.07.4-7 [822 kB]
Get:57 http://archive.ubuntu.com/ubuntu cosmic-updates/main amd64 ibverbs-providers amd64 19.0-1ubuntu0.1 [173 kB]
Get:58 http://archive.ubuntu.com/ubuntu cosmic/main amd64 javascript-common all 11 [6066 B]
Get:59 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libcrmcommon3 amd64 1.1.18-2ubuntu1 [148 kB]
Get:60 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libpe-rules2 amd64 1.1.18-2ubuntu1 [27.6 kB]
Get:61 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libcib4 amd64 1.1.18-2ubuntu1 [51.9 kB]
Get:62 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libstonithd2 amd64 1.1.18-2ubuntu1 [33.9 kB]
Get:63 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libcrmcluster4 amd64 1.1.18-2ubuntu1 [41.7 kB]
Get:64 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libcrmservice3 amd64 1.1.18-2ubuntu1 [37.5 kB]
Get:65 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libesmtp6 amd64 1.0.6-4.3build1 [40.6 kB]
Get:66 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libjpeg-turbo8 amd64 2.0.0-0ubuntu2 [117 kB]
Get:67 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libjpeg8 amd64 8c-2ubuntu8 [2194 B]
Get:68 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libjs-jquery all 3.2.1-1 [152 kB]
Get:69 http://archive.ubuntu.com/ubuntu cosmic/main amd64 liblcms2-2 amd64 2.9-3 [139 kB]
Get:70 http://archive.ubuntu.com/ubuntu cosmic/main amd64 liblrmd1 amd64 1.1.18-2ubuntu1 [29.5 kB]
Get:71 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 libnet-telnet-perl all 3.04-1 [59.9 kB]
Get:72 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libnet1 amd64 1.1.6+dfsg-3.1 [42.9 kB]
Get:73 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libpaper1 amd64 1.1.24+nmu5ubuntu1 [13.6 kB]
Get:74 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libpaper-utils amd64 1.1.24+nmu5ubuntu1 [8170 B]
Get:75 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libpe-status10 amd64 1.1.18-2ubuntu1 [118 kB]
Get:76 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libpengine10 amd64 1.1.18-2ubuntu1 [143 kB]
Get:77 http://archive.ubuntu.com/ubuntu cosmic/main amd64 rubygems-integration all 1.11 [4994 B]
Get:78 http://archive.ubuntu.com/ubuntu cosmic-updates/main amd64 ruby2.5 amd64 2.5.1-5ubuntu4.1 [48.7 kB]
Get:79 http://archive.ubuntu.com/ubuntu cosmic/main amd64 ruby amd64 1:2.5.1 [5712 B]
Get:80 http://archive.ubuntu.com/ubuntu cosmic/main amd64 rake all 12.3.1-3 [44.9 kB]
Get:81 http://archive.ubuntu.com/ubuntu cosmic/main amd64 ruby-did-you-mean all 1.2.1-1 [9828 B]
Get:82 http://archive.ubuntu.com/ubuntu cosmic/main amd64 ruby-minitest all 5.11.3-1 [39.4 kB]
Get:83 http://archive.ubuntu.com/ubuntu cosmic/main amd64 ruby-net-telnet all 0.1.1-2 [12.6 kB]
Get:84 http://archive.ubuntu.com/ubuntu cosmic/main amd64 ruby-power-assert all 1.1.1-1 [11.0 kB]
Get:85 http://archive.ubuntu.com/ubuntu cosmic/main amd64 ruby-test-unit all 3.2.8-1 [61.4 kB]
Get:86 http://archive.ubuntu.com/ubuntu cosmic/main amd64 ruby-xmlrpc all 0.3.0-2 [23.8 kB]
Get:87 http://archive.ubuntu.com/ubuntu cosmic-updates/main amd64 libruby2.5 amd64 2.5.1-5ubuntu4.1 [3080 kB]
Get:88 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libsgutils2-2 amd64 1.42-2ubuntu1 [59.3 kB]
Get:89 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libjbig0 amd64 2.1-3.1build1 [26.7 kB]
Get:90 http://archive.ubuntu.com/ubuntu cosmic-updates/main amd64 libtiff5 amd64 4.0.9-6ubuntu0.1 [152 kB]
Get:91 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libtransitioner2 amd64 1.1.18-2ubuntu1 [21.5 kB]
Get:92 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libwebp6 amd64 0.6.1-2 [185 kB]
Get:93 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libwebpdemux2 amd64 0.6.1-2 [9472 B]
Get:94 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libwebpmux3 amd64 0.6.1-2 [19.6 kB]
Get:95 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libxml2-utils amd64 2.9.4+dfsg1-7ubuntu1 [36.3 kB]
Get:96 http://archive.ubuntu.com/ubuntu cosmic/main amd64 openhpid amd64 3.8.0-1 [65.8 kB]
Get:97 http://archive.ubuntu.com/ubuntu cosmic/main amd64 pacemaker-common all 1.1.18-2ubuntu1 [54.6 kB]                        
Get:98 http://archive.ubuntu.com/ubuntu cosmic/main amd64 resource-agents amd64 1:4.1.1-2 [603 kB]                              
Get:99 http://archive.ubuntu.com/ubuntu cosmic/main amd64 pacemaker-resource-agents all 1.1.18-2ubuntu1 [47.5 kB]               
Get:100 http://archive.ubuntu.com/ubuntu cosmic/main amd64 pacemaker amd64 1.1.18-2ubuntu1 [317 kB]                             
Get:101 http://archive.ubuntu.com/ubuntu cosmic/main amd64 pacemaker-cli-utils amd64 1.1.18-2ubuntu1 [166 kB]                   
Get:102 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-bs4 all 4.6.3-1 [71.5 kB]                                    
Get:103 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-webencodings all 0.5-2 [10.4 kB]                             
Get:104 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-html5lib all 1.0.1-1 [84.2 kB]                               
Get:105 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-lxml amd64 4.2.5-1 [1894 kB]                                 
Get:106 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-olefile all 0.46-1 [33.6 kB]                                 
Get:107 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-pil amd64 5.2.0-2 [346 kB]                                   
Get:108 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-pygments all 2.2.0+dfsg-2 [574 kB]                           
Get:109 http://archive.ubuntu.com/ubuntu cosmic/main amd64 python3-sqlalchemy-ext amd64 1.2.8+ds1-1ubuntu2 [14.2 kB]            
Get:110 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-i18n all 0.7.0-2 [34.1 kB]                                  
Get:111 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-json amd64 2.1.0+dfsg-2 [42.8 kB]                           
Get:112 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-atomic amd64 1.1.16-2build7 [9968 B]                        
Get:113 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-thread-safe all 0.3.6-1 [26.4 kB]                           
Get:114 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-tzinfo all 1.2.5-1 [35.1 kB]                                
Get:115 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-activesupport all 2:4.2.10-0ubuntu4 [202 kB]                
Get:116 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-backports all 3.11.1-1 [99.2 kB]                            
Get:117 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-ffi amd64 1.9.10debian-1build4 [74.9 kB]                    
Get:118 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-mime-types-data all 3.2015.1120-1 [66.7 kB]                 
Get:119 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-mime-types all 3.1-1 [20.1 kB]                              
Get:120 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-ethon all 0.9.0-2 [31.1 kB]                                 
Get:121 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-highline all 1.7.8-1 [40.7 kB]                              
Get:122 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-multi-json all 1.12.1-1 [15.5 kB]                           
Get:123 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-oj amd64 3.6.6-1 [117 kB]                                   
Get:124 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-open4 all 1.3.4-1 [14.3 kB]                                 
Get:125 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-rack all 1.6.4-4 [81.2 kB]                                  
Get:126 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-rack-protection all 1.5.3-2.1 [10.3 kB]                     
Get:127 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-rack-test all 0.7.0-1 [11.8 kB]                             
Get:128 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-rpam-ruby19 amd64 1.2.1-1build4 [6000 B]                    
Get:129 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-tilt all 2.0.8-1 [26.2 kB]                                  
Get:130 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-sinatra all 1.4.8-1 [300 kB]                                
Get:131 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 ruby-sinatra-contrib all 1.4.7-1 [27.1 kB]                       
Get:132 http://archive.ubuntu.com/ubuntu cosmic/main amd64 sg3-utils amd64 1.42-2ubuntu1 [743 kB]                               
Get:133 http://archive.ubuntu.com/ubuntu cosmic-updates/main amd64 snmp amd64 5.7.3+dfsg-1.8ubuntu3.18.10.1 [158 kB]            
Get:134 http://archive.ubuntu.com/ubuntu cosmic/main amd64 unzip amd64 6.0-21ubuntu1 [167 kB]                                   
Get:135 http://archive.ubuntu.com/ubuntu cosmic/main amd64 zip amd64 3.0-11build1 [167 kB]                                      
Get:136 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 pcs all 0.9.165-1 [1000 kB]                                      
Fetched 26.1 MB in 9s (2955 kB/s)                                                                                               
Extracting templates from packages: 100%
Preconfiguring packages ...
Selecting previously unselected package fonts-lato.
(Reading database ... 28279 files and directories currently installed.)
Preparing to unpack .../000-fonts-lato_2.0-2_all.deb ...
Unpacking fonts-lato (2.0-2) ...
Selecting previously unselected package python3-uritemplate.
Preparing to unpack .../001-python3-uritemplate_0.6-1ubuntu1_all.deb ...
Unpacking python3-uritemplate (0.6-1ubuntu1) ...
Selecting previously unselected package sgml-base.
Preparing to unpack .../002-sgml-base_1.29_all.deb ...
Unpacking sgml-base (1.29) ...
Selecting previously unselected package libdbus-glib-1-2:amd64.
Preparing to unpack .../003-libdbus-glib-1-2_0.110-3_amd64.deb ...
Unpacking libdbus-glib-1-2:amd64 (0.110-3) ...
Selecting previously unselected package libltdl7:amd64.
Preparing to unpack .../004-libltdl7_2.4.6-4_amd64.deb ...
Unpacking libltdl7:amd64 (2.4.6-4) ...
Selecting previously unselected package libpils2.
Preparing to unpack .../005-libpils2_1.0.12-10_amd64.deb ...
Unpacking libpils2 (1.0.12-10) ...
Selecting previously unselected package libplumb2.
Preparing to unpack .../006-libplumb2_1.0.12-10_amd64.deb ...
Unpacking libplumb2 (1.0.12-10) ...
Selecting previously unselected package liblrm2.
Preparing to unpack .../007-liblrm2_1.0.12-10_amd64.deb ...
Unpacking liblrm2 (1.0.12-10) ...
Selecting previously unselected package libopenhpi3.
Preparing to unpack .../008-libopenhpi3_3.8.0-1_amd64.deb ...
Unpacking libopenhpi3 (3.8.0-1) ...
Selecting previously unselected package libopenipmi0.
Preparing to unpack .../009-libopenipmi0_2.0.25-2ubuntu1_amd64.deb ...
Unpacking libopenipmi0 (2.0.25-2ubuntu1) ...
Selecting previously unselected package libplumbgpl2.
Preparing to unpack .../010-libplumbgpl2_1.0.12-10_amd64.deb ...
Unpacking libplumbgpl2 (1.0.12-10) ...
Selecting previously unselected package libsensors4:amd64.
Preparing to unpack .../011-libsensors4_1%3a3.4.0-4_amd64.deb ...
Unpacking libsensors4:amd64 (1:3.4.0-4) ...
Selecting previously unselected package libsnmp-base.
Preparing to unpack .../012-libsnmp-base_5.7.3+dfsg-1.8ubuntu3.18.10.1_all.deb ...
Unpacking libsnmp-base (5.7.3+dfsg-1.8ubuntu3.18.10.1) ...
Selecting previously unselected package libsnmp30:amd64.
Preparing to unpack .../013-libsnmp30_5.7.3+dfsg-1.8ubuntu3.18.10.1_amd64.deb ...
Unpacking libsnmp30:amd64 (5.7.3+dfsg-1.8ubuntu3.18.10.1) ...
Selecting previously unselected package libstonith1.
Preparing to unpack .../014-libstonith1_1.0.12-10_amd64.deb ...
Unpacking libstonith1 (1.0.12-10) ...
Selecting previously unselected package libtimedate-perl.
Preparing to unpack .../015-libtimedate-perl_2.3000-2_all.deb ...
Unpacking libtimedate-perl (2.3000-2) ...
Selecting previously unselected package cluster-glue.
Preparing to unpack .../016-cluster-glue_1.0.12-10_amd64.deb ...
Unpacking cluster-glue (1.0.12-10) ...
Selecting previously unselected package libcorosync-common4:amd64.
Preparing to unpack .../017-libcorosync-common4_2.4.4-3_amd64.deb ...
Unpacking libcorosync-common4:amd64 (2.4.4-3) ...
Selecting previously unselected package libqb0:amd64.
Preparing to unpack .../018-libqb0_1.0.3-1_amd64.deb ...
Unpacking libqb0:amd64 (1.0.3-1) ...
Selecting previously unselected package libcfg6:amd64.
Preparing to unpack .../019-libcfg6_2.4.4-3_amd64.deb ...
Unpacking libcfg6:amd64 (2.4.4-3) ...
Selecting previously unselected package libcmap4:amd64.
Preparing to unpack .../020-libcmap4_2.4.4-3_amd64.deb ...
Unpacking libcmap4:amd64 (2.4.4-3) ...
Selecting previously unselected package libcpg4:amd64.
Preparing to unpack .../021-libcpg4_2.4.4-3_amd64.deb ...
Unpacking libcpg4:amd64 (2.4.4-3) ...
Selecting previously unselected package libquorum5:amd64.
Preparing to unpack .../022-libquorum5_2.4.4-3_amd64.deb ...
Unpacking libquorum5:amd64 (2.4.4-3) ...
Selecting previously unselected package libstatgrab10.
Preparing to unpack .../023-libstatgrab10_0.91-1build2_amd64.deb ...
Unpacking libstatgrab10 (0.91-1build2) ...
Selecting previously unselected package libnl-3-200:amd64.
Preparing to unpack .../024-libnl-3-200_3.4.0-1_amd64.deb ...
Unpacking libnl-3-200:amd64 (3.4.0-1) ...
Selecting previously unselected package libnl-route-3-200:amd64.
Preparing to unpack .../025-libnl-route-3-200_3.4.0-1_amd64.deb ...
Unpacking libnl-route-3-200:amd64 (3.4.0-1) ...
Selecting previously unselected package libibverbs1:amd64.
Preparing to unpack .../026-libibverbs1_19.0-1ubuntu0.1_amd64.deb ...
Unpacking libibverbs1:amd64 (19.0-1ubuntu0.1) ...
Selecting previously unselected package libnspr4:amd64.
Preparing to unpack .../027-libnspr4_2%3a4.18-1ubuntu1_amd64.deb ...
Unpacking libnspr4:amd64 (2:4.18-1ubuntu1) ...
Selecting previously unselected package libnss3:amd64.
Preparing to unpack .../028-libnss3_2%3a3.36.1-1ubuntu1.1_amd64.deb ...
Unpacking libnss3:amd64 (2:3.36.1-1ubuntu1.1) ...
Selecting previously unselected package librdmacm1:amd64.
Preparing to unpack .../029-librdmacm1_19.0-1ubuntu0.1_amd64.deb ...
Unpacking librdmacm1:amd64 (19.0-1ubuntu0.1) ...
Selecting previously unselected package libtotem-pg5:amd64.
Preparing to unpack .../030-libtotem-pg5_2.4.4-3_amd64.deb ...
Unpacking libtotem-pg5:amd64 (2.4.4-3) ...
Selecting previously unselected package libvotequorum8:amd64.
Preparing to unpack .../031-libvotequorum8_2.4.4-3_amd64.deb ...
Unpacking libvotequorum8:amd64 (2.4.4-3) ...
Selecting previously unselected package xsltproc.
Preparing to unpack .../032-xsltproc_1.1.32-2_amd64.deb ...
Unpacking xsltproc (1.1.32-2) ...
Selecting previously unselected package corosync.
Preparing to unpack .../033-corosync_2.4.4-3_amd64.deb ...
Unpacking corosync (2.4.4-3) ...
Selecting previously unselected package xml-core.
Preparing to unpack .../034-xml-core_0.18_all.deb ...
Unpacking xml-core (0.18) ...
Selecting previously unselected package docutils-common.
Preparing to unpack .../035-docutils-common_0.14+dfsg-3_all.deb ...
Unpacking docutils-common (0.14+dfsg-3) ...
Selecting previously unselected package python3-dateutil.
Preparing to unpack .../036-python3-dateutil_2.6.1-1_all.deb ...
Unpacking python3-dateutil (2.6.1-1) ...
Selecting previously unselected package python3-roman.
Preparing to unpack .../037-python3-roman_2.0.0-3_all.deb ...
Unpacking python3-roman (2.0.0-3) ...
Selecting previously unselected package python3-docutils.
Preparing to unpack .../038-python3-docutils_0.14+dfsg-3_all.deb ...
Unpacking python3-docutils (0.14+dfsg-3) ...
Selecting previously unselected package python3-jmespath.
Preparing to unpack .../039-python3-jmespath_0.9.3-1ubuntu1_all.deb ...
Unpacking python3-jmespath (0.9.3-1ubuntu1) ...
Selecting previously unselected package python3-botocore.
Preparing to unpack .../040-python3-botocore_1.12.16+repack-1_all.deb ...
Unpacking python3-botocore (1.12.16+repack-1) ...
Selecting previously unselected package python3-s3transfer.
Preparing to unpack .../041-python3-s3transfer_0.1.13-1_all.deb ...
Unpacking python3-s3transfer (0.1.13-1) ...
Selecting previously unselected package python3-boto3.
Preparing to unpack .../042-python3-boto3_1.4.2-1_all.deb ...
Unpacking python3-boto3 (1.4.2-1) ...
Selecting previously unselected package python3-monotonic.
Preparing to unpack .../043-python3-monotonic_1.1-2_all.deb ...
Unpacking python3-monotonic (1.1-2) ...
Selecting previously unselected package python3-fasteners.
Preparing to unpack .../044-python3-fasteners_0.12.0-3_all.deb ...
Unpacking python3-fasteners (0.12.0-3) ...
Selecting previously unselected package python3-rsa.
Preparing to unpack .../045-python3-rsa_3.4.2-1_all.deb ...
Unpacking python3-rsa (3.4.2-1) ...
Selecting previously unselected package python3-sqlalchemy.
Preparing to unpack .../046-python3-sqlalchemy_1.2.8+ds1-1ubuntu2_all.deb ...
Unpacking python3-sqlalchemy (1.2.8+ds1-1ubuntu2) ...
Selecting previously unselected package python3-oauth2client.
Preparing to unpack .../047-python3-oauth2client_4.1.2-3_all.deb ...
Unpacking python3-oauth2client (4.1.2-3) ...
Selecting previously unselected package python3-googleapi.
Preparing to unpack .../048-python3-googleapi_1.5.5-1_all.deb ...
Unpacking python3-googleapi (1.5.5-1) ...
Selecting previously unselected package python3-pycurl.
Preparing to unpack .../049-python3-pycurl_7.43.0.1-0.2build1_amd64.deb ...
Unpacking python3-pycurl (7.43.0.1-0.2build1) ...
Selecting previously unselected package python3-ptyprocess.
Preparing to unpack .../050-python3-ptyprocess_0.6.0-1_all.deb ...
Unpacking python3-ptyprocess (0.6.0-1) ...
Selecting previously unselected package python3-pexpect.
Preparing to unpack .../051-python3-pexpect_4.6.0-1_all.deb ...
Unpacking python3-pexpect (4.6.0-1) ...
Selecting previously unselected package python3-suds.
Preparing to unpack .../052-python3-suds_0.7~git20150727.94664dd-5_all.deb ...
Unpacking python3-suds (0.7~git20150727.94664dd-5) ...
Selecting previously unselected package fence-agents.
Preparing to unpack .../053-fence-agents_4.2.1-1_amd64.deb ...
Unpacking fence-agents (4.2.1-1) ...
Selecting previously unselected package fonts-dejavu-core.
Preparing to unpack .../054-fonts-dejavu-core_2.37-1_all.deb ...
Unpacking fonts-dejavu-core (2.37-1) ...
Selecting previously unselected package fonts-liberation.
Preparing to unpack .../055-fonts-liberation_1%3a1.07.4-7_all.deb ...
Unpacking fonts-liberation (1:1.07.4-7) ...
Selecting previously unselected package ibverbs-providers:amd64.
Preparing to unpack .../056-ibverbs-providers_19.0-1ubuntu0.1_amd64.deb ...
Unpacking ibverbs-providers:amd64 (19.0-1ubuntu0.1) ...
Selecting previously unselected package javascript-common.
Preparing to unpack .../057-javascript-common_11_all.deb ...
Unpacking javascript-common (11) ...
Selecting previously unselected package libcrmcommon3:amd64.
Preparing to unpack .../058-libcrmcommon3_1.1.18-2ubuntu1_amd64.deb ...
Unpacking libcrmcommon3:amd64 (1.1.18-2ubuntu1) ...
Selecting previously unselected package libpe-rules2:amd64.
Preparing to unpack .../059-libpe-rules2_1.1.18-2ubuntu1_amd64.deb ...
Unpacking libpe-rules2:amd64 (1.1.18-2ubuntu1) ...
Selecting previously unselected package libcib4:amd64.
Preparing to unpack .../060-libcib4_1.1.18-2ubuntu1_amd64.deb ...
Unpacking libcib4:amd64 (1.1.18-2ubuntu1) ...
Selecting previously unselected package libstonithd2:amd64.
Preparing to unpack .../061-libstonithd2_1.1.18-2ubuntu1_amd64.deb ...
Unpacking libstonithd2:amd64 (1.1.18-2ubuntu1) ...
Selecting previously unselected package libcrmcluster4:amd64.
Preparing to unpack .../062-libcrmcluster4_1.1.18-2ubuntu1_amd64.deb ...
Unpacking libcrmcluster4:amd64 (1.1.18-2ubuntu1) ...
Selecting previously unselected package libcrmservice3:amd64.
Preparing to unpack .../063-libcrmservice3_1.1.18-2ubuntu1_amd64.deb ...
Unpacking libcrmservice3:amd64 (1.1.18-2ubuntu1) ...
Selecting previously unselected package libesmtp6.
Preparing to unpack .../064-libesmtp6_1.0.6-4.3build1_amd64.deb ...
Unpacking libesmtp6 (1.0.6-4.3build1) ...
Selecting previously unselected package libjpeg-turbo8:amd64.
Preparing to unpack .../065-libjpeg-turbo8_2.0.0-0ubuntu2_amd64.deb ...
Unpacking libjpeg-turbo8:amd64 (2.0.0-0ubuntu2) ...
Selecting previously unselected package libjpeg8:amd64.
Preparing to unpack .../066-libjpeg8_8c-2ubuntu8_amd64.deb ...
Unpacking libjpeg8:amd64 (8c-2ubuntu8) ...
Selecting previously unselected package libjs-jquery.
Preparing to unpack .../067-libjs-jquery_3.2.1-1_all.deb ...
Unpacking libjs-jquery (3.2.1-1) ...
Selecting previously unselected package liblcms2-2:amd64.
Preparing to unpack .../068-liblcms2-2_2.9-3_amd64.deb ...
Unpacking liblcms2-2:amd64 (2.9-3) ...
Selecting previously unselected package liblrmd1:amd64.
Preparing to unpack .../069-liblrmd1_1.1.18-2ubuntu1_amd64.deb ...
Unpacking liblrmd1:amd64 (1.1.18-2ubuntu1) ...
Selecting previously unselected package libnet-telnet-perl.
Preparing to unpack .../070-libnet-telnet-perl_3.04-1_all.deb ...
Unpacking libnet-telnet-perl (3.04-1) ...
Selecting previously unselected package libnet1:amd64.
Preparing to unpack .../071-libnet1_1.1.6+dfsg-3.1_amd64.deb ...
Unpacking libnet1:amd64 (1.1.6+dfsg-3.1) ...
Selecting previously unselected package libpaper1:amd64.
Preparing to unpack .../072-libpaper1_1.1.24+nmu5ubuntu1_amd64.deb ...
Unpacking libpaper1:amd64 (1.1.24+nmu5ubuntu1) ...
Selecting previously unselected package libpaper-utils.
Preparing to unpack .../073-libpaper-utils_1.1.24+nmu5ubuntu1_amd64.deb ...
Unpacking libpaper-utils (1.1.24+nmu5ubuntu1) ...
Selecting previously unselected package libpe-status10:amd64.
Preparing to unpack .../074-libpe-status10_1.1.18-2ubuntu1_amd64.deb ...
Unpacking libpe-status10:amd64 (1.1.18-2ubuntu1) ...
Selecting previously unselected package libpengine10:amd64.
Preparing to unpack .../075-libpengine10_1.1.18-2ubuntu1_amd64.deb ...
Unpacking libpengine10:amd64 (1.1.18-2ubuntu1) ...
Selecting previously unselected package rubygems-integration.
Preparing to unpack .../076-rubygems-integration_1.11_all.deb ...
Unpacking rubygems-integration (1.11) ...
Selecting previously unselected package ruby2.5.
Preparing to unpack .../077-ruby2.5_2.5.1-5ubuntu4.1_amd64.deb ...
Unpacking ruby2.5 (2.5.1-5ubuntu4.1) ...
Selecting previously unselected package ruby.
Preparing to unpack .../078-ruby_1%3a2.5.1_amd64.deb ...
Unpacking ruby (1:2.5.1) ...
Selecting previously unselected package rake.
Preparing to unpack .../079-rake_12.3.1-3_all.deb ...
Unpacking rake (12.3.1-3) ...
Selecting previously unselected package ruby-did-you-mean.
Preparing to unpack .../080-ruby-did-you-mean_1.2.1-1_all.deb ...
Unpacking ruby-did-you-mean (1.2.1-1) ...
Selecting previously unselected package ruby-minitest.
Preparing to unpack .../081-ruby-minitest_5.11.3-1_all.deb ...
Unpacking ruby-minitest (5.11.3-1) ...
Selecting previously unselected package ruby-net-telnet.
Preparing to unpack .../082-ruby-net-telnet_0.1.1-2_all.deb ...
Unpacking ruby-net-telnet (0.1.1-2) ...
Selecting previously unselected package ruby-power-assert.
Preparing to unpack .../083-ruby-power-assert_1.1.1-1_all.deb ...
Unpacking ruby-power-assert (1.1.1-1) ...
Selecting previously unselected package ruby-test-unit.
Preparing to unpack .../084-ruby-test-unit_3.2.8-1_all.deb ...
Unpacking ruby-test-unit (3.2.8-1) ...
Selecting previously unselected package ruby-xmlrpc.
Preparing to unpack .../085-ruby-xmlrpc_0.3.0-2_all.deb ...
Unpacking ruby-xmlrpc (0.3.0-2) ...
Selecting previously unselected package libruby2.5:amd64.
Preparing to unpack .../086-libruby2.5_2.5.1-5ubuntu4.1_amd64.deb ...
Unpacking libruby2.5:amd64 (2.5.1-5ubuntu4.1) ...
Selecting previously unselected package libsgutils2-2.
Preparing to unpack .../087-libsgutils2-2_1.42-2ubuntu1_amd64.deb ...
Unpacking libsgutils2-2 (1.42-2ubuntu1) ...
Selecting previously unselected package libjbig0:amd64.
Preparing to unpack .../088-libjbig0_2.1-3.1build1_amd64.deb ...
Unpacking libjbig0:amd64 (2.1-3.1build1) ...
Selecting previously unselected package libtiff5:amd64.
Preparing to unpack .../089-libtiff5_4.0.9-6ubuntu0.1_amd64.deb ...
Unpacking libtiff5:amd64 (4.0.9-6ubuntu0.1) ...
Selecting previously unselected package libtransitioner2:amd64.
Preparing to unpack .../090-libtransitioner2_1.1.18-2ubuntu1_amd64.deb ...
Unpacking libtransitioner2:amd64 (1.1.18-2ubuntu1) ...
Selecting previously unselected package libwebp6:amd64.
Preparing to unpack .../091-libwebp6_0.6.1-2_amd64.deb ...
Unpacking libwebp6:amd64 (0.6.1-2) ...
Selecting previously unselected package libwebpdemux2:amd64.
Preparing to unpack .../092-libwebpdemux2_0.6.1-2_amd64.deb ...
Unpacking libwebpdemux2:amd64 (0.6.1-2) ...
Selecting previously unselected package libwebpmux3:amd64.
Preparing to unpack .../093-libwebpmux3_0.6.1-2_amd64.deb ...
Unpacking libwebpmux3:amd64 (0.6.1-2) ...
Selecting previously unselected package libxml2-utils.
Preparing to unpack .../094-libxml2-utils_2.9.4+dfsg1-7ubuntu1_amd64.deb ...
Unpacking libxml2-utils (2.9.4+dfsg1-7ubuntu1) ...
Selecting previously unselected package openhpid.
Preparing to unpack .../095-openhpid_3.8.0-1_amd64.deb ...
Unpacking openhpid (3.8.0-1) ...
Selecting previously unselected package pacemaker-common.
Preparing to unpack .../096-pacemaker-common_1.1.18-2ubuntu1_all.deb ...
Unpacking pacemaker-common (1.1.18-2ubuntu1) ...
Selecting previously unselected package resource-agents.
Preparing to unpack .../097-resource-agents_1%3a4.1.1-2_amd64.deb ...
Unpacking resource-agents (1:4.1.1-2) ...
Selecting previously unselected package pacemaker-resource-agents.
Preparing to unpack .../098-pacemaker-resource-agents_1.1.18-2ubuntu1_all.deb ...
Unpacking pacemaker-resource-agents (1.1.18-2ubuntu1) ...
Selecting previously unselected package pacemaker.
Preparing to unpack .../099-pacemaker_1.1.18-2ubuntu1_amd64.deb ...
Unpacking pacemaker (1.1.18-2ubuntu1) ...
Selecting previously unselected package pacemaker-cli-utils.
Preparing to unpack .../100-pacemaker-cli-utils_1.1.18-2ubuntu1_amd64.deb ...
Unpacking pacemaker-cli-utils (1.1.18-2ubuntu1) ...
Selecting previously unselected package python3-bs4.
Preparing to unpack .../101-python3-bs4_4.6.3-1_all.deb ...
Unpacking python3-bs4 (4.6.3-1) ...
Selecting previously unselected package python3-webencodings.
Preparing to unpack .../102-python3-webencodings_0.5-2_all.deb ...
Unpacking python3-webencodings (0.5-2) ...
Selecting previously unselected package python3-html5lib.
Preparing to unpack .../103-python3-html5lib_1.0.1-1_all.deb ...
Unpacking python3-html5lib (1.0.1-1) ...
Selecting previously unselected package python3-lxml:amd64.
Preparing to unpack .../104-python3-lxml_4.2.5-1_amd64.deb ...
Unpacking python3-lxml:amd64 (4.2.5-1) ...
Selecting previously unselected package python3-olefile.
Preparing to unpack .../105-python3-olefile_0.46-1_all.deb ...
Unpacking python3-olefile (0.46-1) ...
Selecting previously unselected package python3-pil:amd64.
Preparing to unpack .../106-python3-pil_5.2.0-2_amd64.deb ...
Unpacking python3-pil:amd64 (5.2.0-2) ...
Selecting previously unselected package python3-pygments.
Preparing to unpack .../107-python3-pygments_2.2.0+dfsg-2_all.deb ...
Unpacking python3-pygments (2.2.0+dfsg-2) ...
Selecting previously unselected package python3-sqlalchemy-ext.
Preparing to unpack .../108-python3-sqlalchemy-ext_1.2.8+ds1-1ubuntu2_amd64.deb ...
Unpacking python3-sqlalchemy-ext (1.2.8+ds1-1ubuntu2) ...
Selecting previously unselected package ruby-i18n.
Preparing to unpack .../109-ruby-i18n_0.7.0-2_all.deb ...
Unpacking ruby-i18n (0.7.0-2) ...
Selecting previously unselected package ruby-json.
Preparing to unpack .../110-ruby-json_2.1.0+dfsg-2_amd64.deb ...
Unpacking ruby-json (2.1.0+dfsg-2) ...
Selecting previously unselected package ruby-atomic.
Preparing to unpack .../111-ruby-atomic_1.1.16-2build7_amd64.deb ...
Unpacking ruby-atomic (1.1.16-2build7) ...
Selecting previously unselected package ruby-thread-safe.
Preparing to unpack .../112-ruby-thread-safe_0.3.6-1_all.deb ...
Unpacking ruby-thread-safe (0.3.6-1) ...
Selecting previously unselected package ruby-tzinfo.
Preparing to unpack .../113-ruby-tzinfo_1.2.5-1_all.deb ...
Unpacking ruby-tzinfo (1.2.5-1) ...
Selecting previously unselected package ruby-activesupport.
Preparing to unpack .../114-ruby-activesupport_2%3a4.2.10-0ubuntu4_all.deb ...
Unpacking ruby-activesupport (2:4.2.10-0ubuntu4) ...
Selecting previously unselected package ruby-backports.
Preparing to unpack .../115-ruby-backports_3.11.1-1_all.deb ...
Unpacking ruby-backports (3.11.1-1) ...
Selecting previously unselected package ruby-ffi.
Preparing to unpack .../116-ruby-ffi_1.9.10debian-1build4_amd64.deb ...
Unpacking ruby-ffi (1.9.10debian-1build4) ...
Selecting previously unselected package ruby-mime-types-data.
Preparing to unpack .../117-ruby-mime-types-data_3.2015.1120-1_all.deb ...
Unpacking ruby-mime-types-data (3.2015.1120-1) ...
Selecting previously unselected package ruby-mime-types.
Preparing to unpack .../118-ruby-mime-types_3.1-1_all.deb ...
Unpacking ruby-mime-types (3.1-1) ...
Selecting previously unselected package ruby-ethon.
Preparing to unpack .../119-ruby-ethon_0.9.0-2_all.deb ...
Unpacking ruby-ethon (0.9.0-2) ...
Selecting previously unselected package ruby-highline.
Preparing to unpack .../120-ruby-highline_1.7.8-1_all.deb ...
Unpacking ruby-highline (1.7.8-1) ...
Selecting previously unselected package ruby-multi-json.
Preparing to unpack .../121-ruby-multi-json_1.12.1-1_all.deb ...
Unpacking ruby-multi-json (1.12.1-1) ...
Selecting previously unselected package ruby-oj:amd64.
Preparing to unpack .../122-ruby-oj_3.6.6-1_amd64.deb ...
Unpacking ruby-oj:amd64 (3.6.6-1) ...
Selecting previously unselected package ruby-open4.
Preparing to unpack .../123-ruby-open4_1.3.4-1_all.deb ...
Unpacking ruby-open4 (1.3.4-1) ...
Selecting previously unselected package ruby-rack.
Preparing to unpack .../124-ruby-rack_1.6.4-4_all.deb ...
Unpacking ruby-rack (1.6.4-4) ...
Selecting previously unselected package ruby-rack-protection.
Preparing to unpack .../125-ruby-rack-protection_1.5.3-2.1_all.deb ...
Unpacking ruby-rack-protection (1.5.3-2.1) ...
Selecting previously unselected package ruby-rack-test.
Preparing to unpack .../126-ruby-rack-test_0.7.0-1_all.deb ...
Unpacking ruby-rack-test (0.7.0-1) ...
Selecting previously unselected package ruby-rpam-ruby19.
Preparing to unpack .../127-ruby-rpam-ruby19_1.2.1-1build4_amd64.deb ...
Unpacking ruby-rpam-ruby19 (1.2.1-1build4) ...
Selecting previously unselected package ruby-tilt.
Preparing to unpack .../128-ruby-tilt_2.0.8-1_all.deb ...
Unpacking ruby-tilt (2.0.8-1) ...
Selecting previously unselected package ruby-sinatra.
Preparing to unpack .../129-ruby-sinatra_1.4.8-1_all.deb ...
Unpacking ruby-sinatra (1.4.8-1) ...
Selecting previously unselected package ruby-sinatra-contrib.
Preparing to unpack .../130-ruby-sinatra-contrib_1.4.7-1_all.deb ...
Unpacking ruby-sinatra-contrib (1.4.7-1) ...
Selecting previously unselected package sg3-utils.
Preparing to unpack .../131-sg3-utils_1.42-2ubuntu1_amd64.deb ...
Unpacking sg3-utils (1.42-2ubuntu1) ...
Selecting previously unselected package snmp.
Preparing to unpack .../132-snmp_5.7.3+dfsg-1.8ubuntu3.18.10.1_amd64.deb ...
Unpacking snmp (5.7.3+dfsg-1.8ubuntu3.18.10.1) ...
Selecting previously unselected package unzip.
Preparing to unpack .../133-unzip_6.0-21ubuntu1_amd64.deb ...
Unpacking unzip (6.0-21ubuntu1) ...
Selecting previously unselected package zip.
Preparing to unpack .../134-zip_3.0-11build1_amd64.deb ...
Unpacking zip (3.0-11build1) ...
Selecting previously unselected package pcs.
Preparing to unpack .../135-pcs_0.9.165-1_all.deb ...
Unpacking pcs (0.9.165-1) ...
Setting up libplumbgpl2 (1.0.12-10) ...
Setting up libjs-jquery (3.2.1-1) ...
Setting up libpaper1:amd64 (1.1.24+nmu5ubuntu1) ...

Creating config file /etc/papersize with new version
Setting up python3-sqlalchemy (1.2.8+ds1-1ubuntu2) ...
Setting up libpaper-utils (1.1.24+nmu5ubuntu1) ...
Setting up python3-sqlalchemy-ext (1.2.8+ds1-1ubuntu2) ...
Setting up python3-pycurl (7.43.0.1-0.2build1) ...
Setting up python3-roman (2.0.0-3) ...
Setting up python3-webencodings (0.5-2) ...
Setting up libnet1:amd64 (1.1.6+dfsg-3.1) ...
Setting up ruby-xmlrpc (0.3.0-2) ...
Setting up libnet-telnet-perl (3.04-1) ...
Processing triggers for mime-support (3.60ubuntu1) ...
Setting up python3-lxml:amd64 (4.2.5-1) ...
Setting up python3-olefile (0.46-1) ...
Setting up libopenhpi3 (3.8.0-1) ...
Setting up libtimedate-perl (2.3000-2) ...
Setting up liblcms2-2:amd64 (2.9-3) ...
Setting up libjbig0:amd64 (2.1-3.1build1) ...
Setting up fonts-dejavu-core (2.37-1) ...
Setting up libdbus-glib-1-2:amd64 (0.110-3) ...
Setting up unzip (6.0-21ubuntu1) ...
Setting up libxml2-utils (2.9.4+dfsg1-7ubuntu1) ...
Setting up libesmtp6 (1.0.6-4.3build1) ...
Setting up xsltproc (1.1.32-2) ...
Setting up libjpeg-turbo8:amd64 (2.0.0-0ubuntu2) ...
Setting up sgml-base (1.29) ...
Setting up python3-bs4 (4.6.3-1) ...
Setting up fonts-liberation (1:1.07.4-7) ...
Setting up libstatgrab10 (0.91-1build2) ...
Setting up libnspr4:amd64 (2:4.18-1ubuntu1) ...
Setting up zip (3.0-11build1) ...
Setting up python3-suds (0.7~git20150727.94664dd-5) ...
Setting up openhpid (3.8.0-1) ...
Setting up fonts-lato (2.0-2) ...
Setting up python3-rsa (3.4.2-1) ...
Setting up libsgutils2-2 (1.42-2ubuntu1) ...
Setting up ruby-did-you-mean (1.2.1-1) ...
Setting up pacemaker-common (1.1.18-2ubuntu1) ...
Adding group `haclient' (GID 116) ...
Done.
Adding system user `hacluster' (UID 110) ...
Adding new user `hacluster' (UID 110) with group `haclient' ...
Not creating home directory `/var/lib/pacemaker'.
1+0 records in
1+0 records out
4096 bytes (4.1 kB, 4.0 KiB) copied, 9.6069e-05 s, 42.6 MB/s
Processing triggers for libc-bin (2.28-0ubuntu1) ...
Setting up python3-monotonic (1.1-2) ...
Setting up python3-html5lib (1.0.1-1) ...
Processing triggers for systemd (239-7ubuntu10.6) ...
Setting up libltdl7:amd64 (2.4.6-4) ...
Setting up ruby-net-telnet (0.1.1-2) ...
Setting up libcorosync-common4:amd64 (2.4.4-3) ...
Setting up rubygems-integration (1.11) ...
Setting up libsensors4:amd64 (1:3.4.0-4) ...
Processing triggers for man-db (2.8.4-2) ...
Processing triggers for shared-mime-info (1.10-1) ...
Setting up python3-jmespath (0.9.3-1ubuntu1) ...
Setting up sg3-utils (1.42-2ubuntu1) ...
Setting up xml-core (0.18) ...
Setting up javascript-common (11) ...
Setting up libnl-3-200:amd64 (3.4.0-1) ...
Setting up ruby-minitest (5.11.3-1) ...
Setting up libqb0:amd64 (1.0.3-1) ...
Setting up python3-ptyprocess (0.6.0-1) ...
Setting up python3-uritemplate (0.6-1ubuntu1) ...
Setting up libopenipmi0 (2.0.25-2ubuntu1) ...
Setting up python3-dateutil (2.6.1-1) ...
Setting up ruby-power-assert (1.1.1-1) ...
Setting up libwebp6:amd64 (0.6.1-2) ...
Setting up libsnmp-base (5.7.3+dfsg-1.8ubuntu3.18.10.1) ...
Setting up libjpeg8:amd64 (8c-2ubuntu8) ...
Setting up python3-pygments (2.2.0+dfsg-2) ...
Setting up python3-fasteners (0.12.0-3) ...
Setting up libsnmp30:amd64 (5.7.3+dfsg-1.8ubuntu3.18.10.1) ...
Setting up libcfg6:amd64 (2.4.4-3) ...
Setting up ruby-test-unit (3.2.8-1) ...
Setting up libvotequorum8:amd64 (2.4.4-3) ...
Setting up libcpg4:amd64 (2.4.4-3) ...
Setting up libcrmcommon3:amd64 (1.1.18-2ubuntu1) ...
Setting up libnss3:amd64 (2:3.36.1-1ubuntu1.1) ...
Setting up libtiff5:amd64 (4.0.9-6ubuntu0.1) ...
Setting up libnl-route-3-200:amd64 (3.4.0-1) ...
Setting up libcmap4:amd64 (2.4.4-3) ...
Setting up libquorum5:amd64 (2.4.4-3) ...
Setting up snmp (5.7.3+dfsg-1.8ubuntu3.18.10.1) ...
Setting up libpils2 (1.0.12-10) ...
Setting up libplumb2 (1.0.12-10) ...
Setting up python3-pexpect (4.6.0-1) ...
Setting up libwebpmux3:amd64 (0.6.1-2) ...
Setting up libwebpdemux2:amd64 (0.6.1-2) ...
Setting up python3-oauth2client (4.1.2-3) ...
Setting up libstonithd2:amd64 (1.1.18-2ubuntu1) ...
Setting up libcrmservice3:amd64 (1.1.18-2ubuntu1) ...
Setting up libibverbs1:amd64 (19.0-1ubuntu0.1) ...
Setting up libtransitioner2:amd64 (1.1.18-2ubuntu1) ...
Setting up python3-pil:amd64 (5.2.0-2) ...
Setting up liblrm2 (1.0.12-10) ...
Setting up libstonith1 (1.0.12-10) ...
Setting up libpe-status10:amd64 (1.1.18-2ubuntu1) ...
Setting up libpe-rules2:amd64 (1.1.18-2ubuntu1) ...
Setting up librdmacm1:amd64 (19.0-1ubuntu0.1) ...
Setting up liblrmd1:amd64 (1.1.18-2ubuntu1) ...
Setting up cluster-glue (1.0.12-10) ...
addgroup: The group `haclient' already exists as a system group. Exiting.
The system user `hacluster' already exists. Exiting.
Created symlink /etc/systemd/system/multi-user.target.wants/logd.service â†’ /lib/systemd/system/logd.service.
Setting up libcib4:amd64 (1.1.18-2ubuntu1) ...
Setting up libcrmcluster4:amd64 (1.1.18-2ubuntu1) ...
Setting up python3-googleapi (1.5.5-1) ...
Setting up ibverbs-providers:amd64 (19.0-1ubuntu0.1) ...
Setting up libtotem-pg5:amd64 (2.4.4-3) ...
Setting up libpengine10:amd64 (1.1.18-2ubuntu1) ...
Setting up resource-agents (1:4.1.1-2) ...
[resource-agents.conf:1] Line references path below legacy directory /var/run/, updating /var/run/resource-agents/ â†’ /run/resource-agents/; please update the tmpfiles.d/ drop-in file accordingly.
resource-agents-deps.target is a disabled or a static unit, not starting it.
Setting up corosync (2.4.4-3) ...
Created symlink /etc/systemd/system/multi-user.target.wants/corosync.service â†’ /lib/systemd/system/corosync.service.
Setting up pacemaker-resource-agents (1.1.18-2ubuntu1) ...
Setting up pacemaker (1.1.18-2ubuntu1) ...
Created symlink /etc/systemd/system/multi-user.target.wants/pacemaker.service â†’ /lib/systemd/system/pacemaker.service.
Setting up pacemaker-cli-utils (1.1.18-2ubuntu1) ...
Processing triggers for sgml-base (1.29) ...
Setting up docutils-common (0.14+dfsg-3) ...
Processing triggers for sgml-base (1.29) ...
Setting up python3-docutils (0.14+dfsg-3) ...
update-alternatives: using /usr/share/docutils/scripts/python3/rst-buildhtml to provide /usr/bin/rst-buildhtml (rst-buildhtml) in auto mode
update-alternatives: using /usr/share/docutils/scripts/python3/rst2html to provide /usr/bin/rst2html (rst2html) in auto mode
update-alternatives: using /usr/share/docutils/scripts/python3/rst2html4 to provide /usr/bin/rst2html4 (rst2html4) in auto mode
update-alternatives: using /usr/share/docutils/scripts/python3/rst2html5 to provide /usr/bin/rst2html5 (rst2html5) in auto mode
update-alternatives: using /usr/share/docutils/scripts/python3/rst2latex to provide /usr/bin/rst2latex (rst2latex) in auto mode
update-alternatives: using /usr/share/docutils/scripts/python3/rst2man to provide /usr/bin/rst2man (rst2man) in auto mode
update-alternatives: using /usr/share/docutils/scripts/python3/rst2odt to provide /usr/bin/rst2odt (rst2odt) in auto mode
update-alternatives: using /usr/share/docutils/scripts/python3/rst2odt_prepstyles to provide /usr/bin/rst2odt_prepstyles (rst2odt_prepstyles) in auto mode
update-alternatives: using /usr/share/docutils/scripts/python3/rst2pseudoxml to provide /usr/bin/rst2pseudoxml (rst2pseudoxml) in auto mode
update-alternatives: using /usr/share/docutils/scripts/python3/rst2s5 to provide /usr/bin/rst2s5 (rst2s5) in auto mode
update-alternatives: using /usr/share/docutils/scripts/python3/rst2xetex to provide /usr/bin/rst2xetex (rst2xetex) in auto mode
update-alternatives: using /usr/share/docutils/scripts/python3/rst2xml to provide /usr/bin/rst2xml (rst2xml) in auto mode
update-alternatives: using /usr/share/docutils/scripts/python3/rstpep2html to provide /usr/bin/rstpep2html (rstpep2html) in auto mode
Setting up python3-botocore (1.12.16+repack-1) ...
Setting up python3-s3transfer (0.1.13-1) ...
Setting up python3-boto3 (1.4.2-1) ...
Setting up fence-agents (4.2.1-1) ...
Setting up rake (12.3.1-3) ...
Setting up libruby2.5:amd64 (2.5.1-5ubuntu4.1) ...
Setting up ruby2.5 (2.5.1-5ubuntu4.1) ...
Setting up ruby (1:2.5.1) ...
Setting up ruby-json (2.1.0+dfsg-2) ...
Setting up ruby-rack (1.6.4-4) ...
Setting up ruby-oj:amd64 (3.6.6-1) ...
Setting up ruby-open4 (1.3.4-1) ...
Setting up ruby-multi-json (1.12.1-1) ...
Setting up ruby-rack-protection (1.5.3-2.1) ...
Setting up ruby-rack-test (0.7.0-1) ...
Setting up ruby-atomic (1.1.16-2build7) ...
Setting up ruby-thread-safe (0.3.6-1) ...
Setting up ruby-tilt (2.0.8-1) ...
Setting up ruby-ffi (1.9.10debian-1build4) ...
Setting up ruby-i18n (0.7.0-2) ...
Setting up ruby-rpam-ruby19 (1.2.1-1build4) ...
Setting up ruby-highline (1.7.8-1) ...
Setting up ruby-backports (3.11.1-1) ...
Setting up ruby-tzinfo (1.2.5-1) ...
Setting up ruby-mime-types-data (3.2015.1120-1) ...
Setting up ruby-mime-types (3.1-1) ...
Setting up ruby-activesupport (2:4.2.10-0ubuntu4) ...
Setting up ruby-ethon (0.9.0-2) ...
Setting up ruby-sinatra (1.4.8-1) ...
Setting up ruby-sinatra-contrib (1.4.7-1) ...
Setting up pcs (0.9.165-1) ...
Created symlink /etc/systemd/system/multi-user.target.wants/pcsd.service â†’ /lib/systemd/system/pcsd.service.
Processing triggers for libc-bin (2.28-0ubuntu1) ...
Processing triggers for systemd (239-7ubuntu10.6) ...
```
GUEST ha-node2:
```shell
$ echo hacluster:hacluster | sudo chpasswd
```


#### Add reciprocal host entries

GUEST ha-node1:
```shell
$ echo "10.105.237.194 ha-node2 ha-node2" | sudo tee -a /etc/hosts
10.105.237.194 ha-node2 ha-node2
```
GUEST ha-node2:
```shell
$ echo "10.105.237.139 ha-node1 ha-node1" | sudo tee -a /etc/hosts
10.105.237.139 ha-node1 ha-node1
```


### [http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_configure_corosync.html](http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_configure_corosync.html)


#### On one of the nodes, use pcs cluster auth to authenticate as the hacluster user

GUEST ha-node1:
```shell
$ sudo pcs cluster auth ha-node1 ha-node2 -u hacluster -p hacluster --force
ha-node2: Authorized
ha-node1: Authorized
```


#### Use pcs cluster setup on the same node to generate and synchronize the corosync configuration

GUEST ha-node1:
```shell
$ sudo pcs cluster setup --name my_cluster ha-node1 ha-node2 --start --enable --force
Destroying cluster on nodes: ha-node1, ha-node2...
ha-node1: Stopping Cluster (pacemaker)...
ha-node2: Stopping Cluster (pacemaker)...
ha-node2: Successfully destroyed cluster
ha-node1: Successfully destroyed cluster

Sending 'pacemaker_remote authkey' to 'ha-node1', 'ha-node2'
ha-node1: successful distribution of the file 'pacemaker_remote authkey'
ha-node2: successful distribution of the file 'pacemaker_remote authkey'
Sending cluster config files to the nodes...
ha-node1: Succeeded
ha-node2: Succeeded

Starting cluster on nodes: ha-node1, ha-node2...
ha-node1: Starting Cluster (corosync)...
ha-node2: Starting Cluster (corosync)...
ha-node1: Starting Cluster (pacemaker)...
ha-node2: Starting Cluster (pacemaker)...
ha-node1: Cluster Enabled
ha-node2: Cluster Enabled

Synchronizing pcsd certificates on nodes ha-node1, ha-node2...
ha-node2: Success
ha-node1: Success
Restarting pcsd on the nodes in order to reload the certificates...
ha-node2: Success
ha-node1: Success
```


### [http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/ch04.html](http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/ch04.html)


#### Start the cluster

GUEST ha-node1:
```shell
$ sudo pcs cluster start --all
ha-node1: Starting Cluster (corosync)...
ha-node2: Starting Cluster (corosync)...
ha-node2: Starting Cluster (pacemaker)...
ha-node1: Starting Cluster (pacemaker)...
```


### [http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_verify_corosync_installation.html](http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_verify_corosync_installation.html)


#### Use corosync-cfgtool to check whether cluster communication is happy

GUEST ha-node1:
```shell
$ sudo corosync-cfgtool -s
Printing ring status.
Local node ID 1
RING ID 0
	id	= 10.105.237.139
	status	= ring 0 active with no faults
```


#### Check the membership and quorum APIs

GUEST ha-node1:
```shell
$ sudo corosync-cmapctl | grep members
runtime.totem.pg.mrp.srp.members.1.config_version (u64) = 0
runtime.totem.pg.mrp.srp.members.1.ip (str) = r(0) ip(10.105.237.139) 
runtime.totem.pg.mrp.srp.members.1.join_count (u32) = 1
runtime.totem.pg.mrp.srp.members.1.status (str) = joined
runtime.totem.pg.mrp.srp.members.2.config_version (u64) = 0
runtime.totem.pg.mrp.srp.members.2.ip (str) = r(0) ip(10.105.237.194) 
runtime.totem.pg.mrp.srp.members.2.join_count (u32) = 1
runtime.totem.pg.mrp.srp.members.2.status (str) = joined
```
GUEST ha-node1:
```shell
$ sudo pcs status corosync

Membership information
----------------------
    Nodeid      Votes Name
         1          1 ha-node1 (local)
         2          1 ha-node2
```


### [http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_verify_pacemaker_installation.html](http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_verify_pacemaker_installation.html)


#### Check that the necessary processes are running

GUEST ha-node1:
```shell
$ sudo ps axf | grep corosync
 5688 ?        Ss+    0:00 bash -c sudo ps axf | grep corosync
 5690 ?        S+     0:00  \_ grep corosync
 5182 ?        Ssl    0:00 /usr/sbin/corosync -f
```
GUEST ha-node1:
```shell
$ sudo ps axf | grep pacemaker
 5692 ?        Ss+    0:00 bash -c sudo ps axf | grep pacemaker
 5694 ?        S+     0:00  \_ grep pacemaker
 5215 ?        Ss     0:00 /usr/sbin/pacemakerd -f
 5216 ?        Ss     0:00  \_ /usr/lib/pacemaker/cib
 5217 ?        Ss     0:00  \_ /usr/lib/pacemaker/stonithd
 5218 ?        Ss     0:00  \_ /usr/lib/pacemaker/lrmd
 5219 ?        Ss     0:00  \_ /usr/lib/pacemaker/attrd
 5220 ?        Ss     0:00  \_ /usr/lib/pacemaker/pengine
 5221 ?        Ss     0:00  \_ /usr/lib/pacemaker/crmd
```


#### Check the pcs status output

GUEST ha-node1:
```shell
$ sudo pcs status
Cluster name: my_cluster

WARNINGS:
No stonith devices and stonith-enabled is not false

Stack: unknown
Current DC: NONE
Last updated: Fri Feb  1 14:32:40 2019
Last change: Fri Feb  1 14:32:20 2019 by hacluster via crmd on ha-node1

2 nodes configured
0 resources configured

Node ha-node1: UNCLEAN (offline)
Node ha-node2: UNCLEAN (offline)

No resources


Daemon Status:
  corosync: active/enabled
  pacemaker: active/enabled
  pcsd: active/enabled
```


#### Ensure there are no start-up errors from corosync or pacemaker (aside from messages relating to not having STONITH configured, which are OK at this point)

GUEST ha-node1:
```shell
$ sudo journalctl -b | grep -i error
Feb 01 14:30:23 ha-node1 systemd-resolved[124]: Server returned error NXDOMAIN, mitigating potential DNS violation DVE-2018-0001, retrying transaction with reduced feature level UDP.
Feb 01 14:30:23 ha-node1 snapd[267]: error: cannot start snapd: apparmor detected but insufficient permissions to use it
Feb 01 14:30:23 ha-node1 snapd[394]: error: cannot start snapd: apparmor detected but insufficient permissions to use it
Feb 01 14:30:23 ha-node1 snapd[462]: error: cannot start snapd: apparmor detected but insufficient permissions to use it
Feb 01 14:30:24 ha-node1 snapd[477]: error: cannot start snapd: apparmor detected but insufficient permissions to use it
Feb 01 14:30:24 ha-node1 snapd[490]: error: cannot start snapd: apparmor detected but insufficient permissions to use it
Feb 01 14:30:28 ha-node1 snap[309]: error: cannot communicate with server: Get http://localhost/v2/snaps/system/conf?keys=seed.loaded: dial unix /run/snapd.socket: connect: connection refused
Feb 01 14:30:49 ha-node1 openhpid[2166]: openhpid: CRIT: openhpid-posix.cpp:442: There was an error initializing OpenHPI. Exiting.
Feb 01 14:30:56 ha-node1 pacemakerd[4397]: error: Cannot write to /proc/sys/kernel/sysrq: Permission denied (13)
Feb 01 14:31:19 ha-node1 pengine[4404]: error: Resource start-up disabled since no STONITH resources have been defined
Feb 01 14:31:19 ha-node1 pengine[4404]: error: Either configure some or disable STONITH with the stonith-enabled option
Feb 01 14:31:19 ha-node1 pengine[4404]: error: NOTE: Clusters with shared data need STONITH to ensure data integrity
Feb 01 14:31:19 ha-node1 pengine[4404]: notice: Configuration ERRORs found during PE processing.  Please run "crm_verify -L" to identify issues.
Feb 01 14:31:56 ha-node1 pengine[4404]: error: Resource start-up disabled since no STONITH resources have been defined
Feb 01 14:31:56 ha-node1 pengine[4404]: error: Either configure some or disable STONITH with the stonith-enabled option
Feb 01 14:31:56 ha-node1 pengine[4404]: error: NOTE: Clusters with shared data need STONITH to ensure data integrity
Feb 01 14:31:56 ha-node1 pengine[4404]: notice: Configuration ERRORs found during PE processing.  Please run "crm_verify -L" to identify issues.
Feb 01 14:32:19 ha-node1 pacemakerd[5215]: error: Cannot write to /proc/sys/kernel/sysrq: Permission denied (13)
```


### [http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/ch05.html](http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/ch05.html)


#### Check the xml

GUEST ha-node1:
```shell
$ sudo pcs cluster cib
<cib crm_feature_set="3.0.14" validate-with="pacemaker-2.10" epoch="1" num_updates="0" admin_epoch="0" cib-last-written="Fri Feb  1 14:32:20 2019" update-origin="ha-node1" update-client="crmd" update-user="hacluster">
  <configuration>
    <crm_config/>
    <nodes>
      <node id="1" uname="ha-node1"/>
      <node id="2" uname="ha-node2"/>
    </nodes>
    <resources/>
    <constraints/>
  </configuration>
  <status/>
</cib>
```


#### Check the validity of the configuration

GUEST ha-node1:
```shell
$ sudo crm_verify -L -V
   error: unpack_resources:	Resource start-up disabled since no STONITH resources have been defined
   error: unpack_resources:	Either configure some or disable STONITH with the stonith-enabled option
   error: unpack_resources:	NOTE: Clusters with shared data need STONITH to ensure data integrity
Errors found during check: config not valid
```


#### To disable STONITH, set the stonith-enabled cluster option to false. Don't do this in production.

GUEST ha-node1:
```shell
$ sudo pcs property set stonith-enabled=false
```
GUEST ha-node1:
```shell
$ sudo crm_verify -L -V
```


### [http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_add_a_resource.html](http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_add_a_resource.html)


#### Create an IP address resource that can be brought up on any node

GUEST ha-node1:
```shell
$ sudo pcs resource create ClusterIP ocf:heartbeat:IPaddr2 ip=10.105.237.2 cidr_netmask=32 op monitor interval=30s
```


#### Obtain a list of the available resource standards (the ocf part of ocf:heartbeat:IPaddr2)

GUEST ha-node1:
```shell
$ sudo pcs resource standards
lsb
ocf
service
systemd
```


#### Obtain a list of the available OCF resource providers (the heartbeat part of ocf:heartbeat:IPaddr2)

GUEST ha-node1:
```shell
$ sudo pcs resource providers
heartbeat
pacemaker
redhat
```


#### See all the resource agents available for a specific OCF provider (the IPaddr2 part of ocf:heartbeat:IPaddr2)

GUEST ha-node1:
```shell
$ sudo pcs resource agents ocf:heartbeat
anything
AoEtarget
apache
asterisk
AudibleAlarm
aws-vpc-move-ip
aws-vpc-route53
awseip
awsvip
azure-lb
ClusterMon
clvm
conntrackd
CTDB
db2
Delay
dhcpd
dnsupdate
docker
Dummy
eDir88
ethmonitor
Evmsd
EvmsSCC
exportfs
Filesystem
fio
galera
garbd
ICP
ids
iface-bridge
iface-vlan
IPaddr
IPaddr2
ipsec
IPsrcaddr
IPv6addr
iscsi
iSCSILogicalUnit
iSCSITarget
jboss
jira
kamailio
ldirectord
LinuxSCSI
LVM
LVM-activate
lvmlockd
lxc
lxd-info
machine-info
MailTo
ManageRAID
ManageVE
mariadb
minio
mpathpersist
mysql
mysql-proxy
nagios
named
nfsnotify
nfsserver
nginx
NodeUtilization
oraasm
oracle
oralsnr
ovsmonitor
pgagent
pgsql
pingd
portblock
postfix
pound
proftpd
Pure-FTPd
rabbitmq-cluster
Raid1
redis
rkt
Route
rsyncd
rsyslog
SAPDatabase
SAPInstance
scsi2reservation
SendArp
ServeRAID
sfex
sg_persist
slapd
SphinxSearchDaemon
Squid
Stateful
symlink
SysInfo
syslog-ng
tomcat
varnish
VIPArip
VirtualDomain
vmware
vsftpd
WAS
WAS6
WinPopup
Xen
Xinetd
zabbixserver
ZFS
```


#### Verify that the IP resource has been added, and display the clusterâ€™s status to see that it is now active

GUEST ha-node1:
```shell
$ sudo pcs status
Cluster name: my_cluster
Stack: corosync
Current DC: ha-node2 (version 1.1.18-2b07d5c5a9) - partition with quorum
Last updated: Fri Feb  1 14:32:45 2019
Last change: Fri Feb  1 14:32:42 2019 by root via cibadmin on ha-node1

2 nodes configured
1 resource configured

Online: [ ha-node1 ha-node2 ]

Full list of resources:

 ClusterIP	(ocf::heartbeat:IPaddr2):	Started ha-node1

Daemon Status:
  corosync: active/enabled
  pacemaker: active/enabled
  pcsd: active/enabled
```


### [http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_perform_a_failover.html](http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_perform_a_failover.html)


#### Perform a failover

GUEST ha-node1:
```shell
$ sudo pcs cluster stop ha-node1
ha-node1: Stopping Cluster (pacemaker)...
ha-node1: Stopping Cluster (corosync)...
```


#### Verify that pacemaker and corosync are no longer running

GUEST ha-node1:
```shell
$ sudo pcs status
Error: cluster is not currently running on this node
```


#### Check cluster status on the other node

GUEST ha-node2:
```shell
$ sudo pcs status
Cluster name: my_cluster
Stack: corosync
Current DC: ha-node2 (version 1.1.18-2b07d5c5a9) - partition with quorum
Last updated: Fri Feb  1 14:32:48 2019
Last change: Fri Feb  1 14:32:42 2019 by root via cibadmin on ha-node1

2 nodes configured
1 resource configured

Online: [ ha-node2 ]
OFFLINE: [ ha-node1 ]

Full list of resources:

 ClusterIP	(ocf::heartbeat:IPaddr2):	Started ha-node2

Daemon Status:
  corosync: active/enabled
  pacemaker: active/enabled
  pcsd: active/enabled
```


#### Now, simulate node recovery by restarting the cluster stack on node 1

GUEST ha-node1:
```shell
$ sudo pcs cluster start ha-node1
ha-node1: Starting Cluster (corosync)...
ha-node1: Starting Cluster (pacemaker)...
```
GUEST ha-node1:
```shell
$ sudo pcs status
Cluster name: my_cluster
Stack: corosync
Current DC: NONE
Last updated: Fri Feb  1 14:32:53 2019
Last change: Fri Feb  1 14:32:42 2019 by root via cibadmin on ha-node1

2 nodes configured
1 resource configured

OFFLINE: [ ha-node1 ha-node2 ]

Full list of resources:

 ClusterIP	(ocf::heartbeat:IPaddr2):	Stopped

Daemon Status:
  corosync: active/enabled
  pacemaker: active/enabled
  pcsd: active/enabled
```


### [http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_prevent_resources_from_moving_after_recovery.html](http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_prevent_resources_from_moving_after_recovery.html)


#### Prevent resources from moving after recovery

GUEST ha-node1:
```shell
$ sudo pcs resource defaults resource-stickiness=100
Warning: Defaults do not apply to resources which override them with their own defined values
```
GUEST ha-node1:
```shell
$ sudo pcs resource defaults
resource-stickiness: 100
```


### [http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/ch06.html](http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/ch06.html)


#### Install Apache

GUEST ha-node1:
```shell
$ sudo apt install -y apache2
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following additional packages will be installed:
  apache2-bin apache2-data apache2-utils libapr1 libaprutil1 libaprutil1-dbd-sqlite3 libaprutil1-ldap libbrotli1 liblua5.2-0
  ssl-cert
Suggested packages:
  apache2-doc apache2-suexec-pristine | apache2-suexec-custom www-browser openssl-blacklist
The following NEW packages will be installed:
  apache2 apache2-bin apache2-data apache2-utils libapr1 libaprutil1 libaprutil1-dbd-sqlite3 libaprutil1-ldap libbrotli1
  liblua5.2-0 ssl-cert
0 upgraded, 11 newly installed, 0 to remove and 0 not upgraded.
Need to get 2022 kB of archives.
After this operation, 8374 kB of additional disk space will be used.
Get:1 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libapr1 amd64 1.6.3-3 [91.5 kB]
Get:2 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libaprutil1 amd64 1.6.1-3 [84.6 kB]
Get:3 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libaprutil1-dbd-sqlite3 amd64 1.6.1-3 [10.6 kB]
Get:4 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libaprutil1-ldap amd64 1.6.1-3 [8684 B]
Get:5 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libbrotli1 amd64 1.0.6-1 [269 kB]
Get:6 http://archive.ubuntu.com/ubuntu cosmic/main amd64 liblua5.2-0 amd64 5.2.4-1.1build1 [108 kB]
Get:7 http://archive.ubuntu.com/ubuntu cosmic/main amd64 apache2-bin amd64 2.4.34-1ubuntu2 [1088 kB]
Get:8 http://archive.ubuntu.com/ubuntu cosmic/main amd64 apache2-data all 2.4.34-1ubuntu2 [164 kB]
Get:9 http://archive.ubuntu.com/ubuntu cosmic/main amd64 apache2-utils amd64 2.4.34-1ubuntu2 [85.6 kB]
Get:10 http://archive.ubuntu.com/ubuntu cosmic/main amd64 apache2 amd64 2.4.34-1ubuntu2 [95.1 kB]
Get:11 http://archive.ubuntu.com/ubuntu cosmic/main amd64 ssl-cert all 1.0.39 [17.0 kB]
Fetched 2022 kB in 1s (2374 kB/s)   
Preconfiguring packages ...
Selecting previously unselected package libapr1:amd64.
(Reading database ... 35991 files and directories currently installed.)
Preparing to unpack .../00-libapr1_1.6.3-3_amd64.deb ...
Unpacking libapr1:amd64 (1.6.3-3) ...
Selecting previously unselected package libaprutil1:amd64.
Preparing to unpack .../01-libaprutil1_1.6.1-3_amd64.deb ...
Unpacking libaprutil1:amd64 (1.6.1-3) ...
Selecting previously unselected package libaprutil1-dbd-sqlite3:amd64.
Preparing to unpack .../02-libaprutil1-dbd-sqlite3_1.6.1-3_amd64.deb ...
Unpacking libaprutil1-dbd-sqlite3:amd64 (1.6.1-3) ...
Selecting previously unselected package libaprutil1-ldap:amd64.
Preparing to unpack .../03-libaprutil1-ldap_1.6.1-3_amd64.deb ...
Unpacking libaprutil1-ldap:amd64 (1.6.1-3) ...
Selecting previously unselected package libbrotli1:amd64.
Preparing to unpack .../04-libbrotli1_1.0.6-1_amd64.deb ...
Unpacking libbrotli1:amd64 (1.0.6-1) ...
Selecting previously unselected package liblua5.2-0:amd64.
Preparing to unpack .../05-liblua5.2-0_5.2.4-1.1build1_amd64.deb ...
Unpacking liblua5.2-0:amd64 (5.2.4-1.1build1) ...
Selecting previously unselected package apache2-bin.
Preparing to unpack .../06-apache2-bin_2.4.34-1ubuntu2_amd64.deb ...
Unpacking apache2-bin (2.4.34-1ubuntu2) ...
Selecting previously unselected package apache2-data.
Preparing to unpack .../07-apache2-data_2.4.34-1ubuntu2_all.deb ...
Unpacking apache2-data (2.4.34-1ubuntu2) ...
Selecting previously unselected package apache2-utils.
Preparing to unpack .../08-apache2-utils_2.4.34-1ubuntu2_amd64.deb ...
Unpacking apache2-utils (2.4.34-1ubuntu2) ...
Selecting previously unselected package apache2.
Preparing to unpack .../09-apache2_2.4.34-1ubuntu2_amd64.deb ...
Unpacking apache2 (2.4.34-1ubuntu2) ...
Selecting previously unselected package ssl-cert.
Preparing to unpack .../10-ssl-cert_1.0.39_all.deb ...
Unpacking ssl-cert (1.0.39) ...
Setting up libbrotli1:amd64 (1.0.6-1) ...
Setting up libapr1:amd64 (1.6.3-3) ...
Processing triggers for ufw (0.35-6) ...
Setting up apache2-data (2.4.34-1ubuntu2) ...
Setting up ssl-cert (1.0.39) ...
Processing triggers for libc-bin (2.28-0ubuntu1) ...
Setting up libaprutil1:amd64 (1.6.1-3) ...
Processing triggers for systemd (239-7ubuntu10.6) ...
Processing triggers for man-db (2.8.4-2) ...
Setting up liblua5.2-0:amd64 (5.2.4-1.1build1) ...
Setting up libaprutil1-ldap:amd64 (1.6.1-3) ...
Setting up libaprutil1-dbd-sqlite3:amd64 (1.6.1-3) ...
Setting up apache2-utils (2.4.34-1ubuntu2) ...
Setting up apache2-bin (2.4.34-1ubuntu2) ...
Setting up apache2 (2.4.34-1ubuntu2) ...
Enabling module mpm_event.
Enabling module authz_core.
Enabling module authz_host.
Enabling module authn_core.
Enabling module auth_basic.
Enabling module access_compat.
Enabling module authn_file.
Enabling module authz_user.
Enabling module alias.
Enabling module dir.
Enabling module autoindex.
Enabling module env.
Enabling module mime.
Enabling module negotiation.
Enabling module setenvif.
Enabling module filter.
Enabling module deflate.
Enabling module status.
Enabling module reqtimeout.
Enabling conf charset.
Enabling conf localized-error-pages.
Enabling conf other-vhosts-access-log.
Enabling conf security.
Enabling conf serve-cgi-bin.
Enabling site 000-default.
Created symlink /etc/systemd/system/multi-user.target.wants/apache2.service â†’ /lib/systemd/system/apache2.service.
Created symlink /etc/systemd/system/multi-user.target.wants/apache-htcacheclean.service â†’ /lib/systemd/system/apache-htcacheclean.service.
Processing triggers for libc-bin (2.28-0ubuntu1) ...
Processing triggers for systemd (239-7ubuntu10.6) ...
Processing triggers for ufw (0.35-6) ...
```
GUEST ha-node2:
```shell
$ sudo apt install -y apache2
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following additional packages will be installed:
  apache2-bin apache2-data apache2-utils libapr1 libaprutil1 libaprutil1-dbd-sqlite3 libaprutil1-ldap libbrotli1 liblua5.2-0
  ssl-cert
Suggested packages:
  apache2-doc apache2-suexec-pristine | apache2-suexec-custom www-browser openssl-blacklist
The following NEW packages will be installed:
  apache2 apache2-bin apache2-data apache2-utils libapr1 libaprutil1 libaprutil1-dbd-sqlite3 libaprutil1-ldap libbrotli1
  liblua5.2-0 ssl-cert
0 upgraded, 11 newly installed, 0 to remove and 0 not upgraded.
Need to get 2022 kB of archives.
After this operation, 8374 kB of additional disk space will be used.
Get:1 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libapr1 amd64 1.6.3-3 [91.5 kB]
Get:2 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libaprutil1 amd64 1.6.1-3 [84.6 kB]
Get:3 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libaprutil1-dbd-sqlite3 amd64 1.6.1-3 [10.6 kB]
Get:4 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libaprutil1-ldap amd64 1.6.1-3 [8684 B]
Get:5 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libbrotli1 amd64 1.0.6-1 [269 kB]
Get:6 http://archive.ubuntu.com/ubuntu cosmic/main amd64 liblua5.2-0 amd64 5.2.4-1.1build1 [108 kB]
Get:7 http://archive.ubuntu.com/ubuntu cosmic/main amd64 apache2-bin amd64 2.4.34-1ubuntu2 [1088 kB]
Get:8 http://archive.ubuntu.com/ubuntu cosmic/main amd64 apache2-data all 2.4.34-1ubuntu2 [164 kB]
Get:9 http://archive.ubuntu.com/ubuntu cosmic/main amd64 apache2-utils amd64 2.4.34-1ubuntu2 [85.6 kB]
Get:10 http://archive.ubuntu.com/ubuntu cosmic/main amd64 apache2 amd64 2.4.34-1ubuntu2 [95.1 kB]
Get:11 http://archive.ubuntu.com/ubuntu cosmic/main amd64 ssl-cert all 1.0.39 [17.0 kB]
Fetched 2022 kB in 1s (2069 kB/s)   
Preconfiguring packages ...
Selecting previously unselected package libapr1:amd64.
(Reading database ... 35991 files and directories currently installed.)
Preparing to unpack .../00-libapr1_1.6.3-3_amd64.deb ...
Unpacking libapr1:amd64 (1.6.3-3) ...
Selecting previously unselected package libaprutil1:amd64.
Preparing to unpack .../01-libaprutil1_1.6.1-3_amd64.deb ...
Unpacking libaprutil1:amd64 (1.6.1-3) ...
Selecting previously unselected package libaprutil1-dbd-sqlite3:amd64.
Preparing to unpack .../02-libaprutil1-dbd-sqlite3_1.6.1-3_amd64.deb ...
Unpacking libaprutil1-dbd-sqlite3:amd64 (1.6.1-3) ...
Selecting previously unselected package libaprutil1-ldap:amd64.
Preparing to unpack .../03-libaprutil1-ldap_1.6.1-3_amd64.deb ...
Unpacking libaprutil1-ldap:amd64 (1.6.1-3) ...
Selecting previously unselected package libbrotli1:amd64.
Preparing to unpack .../04-libbrotli1_1.0.6-1_amd64.deb ...
Unpacking libbrotli1:amd64 (1.0.6-1) ...
Selecting previously unselected package liblua5.2-0:amd64.
Preparing to unpack .../05-liblua5.2-0_5.2.4-1.1build1_amd64.deb ...
Unpacking liblua5.2-0:amd64 (5.2.4-1.1build1) ...
Selecting previously unselected package apache2-bin.
Preparing to unpack .../06-apache2-bin_2.4.34-1ubuntu2_amd64.deb ...
Unpacking apache2-bin (2.4.34-1ubuntu2) ...
Selecting previously unselected package apache2-data.
Preparing to unpack .../07-apache2-data_2.4.34-1ubuntu2_all.deb ...
Unpacking apache2-data (2.4.34-1ubuntu2) ...
Selecting previously unselected package apache2-utils.
Preparing to unpack .../08-apache2-utils_2.4.34-1ubuntu2_amd64.deb ...
Unpacking apache2-utils (2.4.34-1ubuntu2) ...
Selecting previously unselected package apache2.
Preparing to unpack .../09-apache2_2.4.34-1ubuntu2_amd64.deb ...
Unpacking apache2 (2.4.34-1ubuntu2) ...
Selecting previously unselected package ssl-cert.
Preparing to unpack .../10-ssl-cert_1.0.39_all.deb ...
Unpacking ssl-cert (1.0.39) ...
Setting up libbrotli1:amd64 (1.0.6-1) ...
Setting up libapr1:amd64 (1.6.3-3) ...
Processing triggers for ufw (0.35-6) ...
Setting up apache2-data (2.4.34-1ubuntu2) ...
Setting up ssl-cert (1.0.39) ...
Processing triggers for libc-bin (2.28-0ubuntu1) ...
Setting up libaprutil1:amd64 (1.6.1-3) ...
Processing triggers for systemd (239-7ubuntu10.6) ...
Processing triggers for man-db (2.8.4-2) ...
Setting up liblua5.2-0:amd64 (5.2.4-1.1build1) ...
Setting up libaprutil1-ldap:amd64 (1.6.1-3) ...
Setting up libaprutil1-dbd-sqlite3:amd64 (1.6.1-3) ...
Setting up apache2-utils (2.4.34-1ubuntu2) ...
Setting up apache2-bin (2.4.34-1ubuntu2) ...
Setting up apache2 (2.4.34-1ubuntu2) ...
Enabling module mpm_event.
Enabling module authz_core.
Enabling module authz_host.
Enabling module authn_core.
Enabling module auth_basic.
Enabling module access_compat.
Enabling module authn_file.
Enabling module authz_user.
Enabling module alias.
Enabling module dir.
Enabling module autoindex.
Enabling module env.
Enabling module mime.
Enabling module negotiation.
Enabling module setenvif.
Enabling module filter.
Enabling module deflate.
Enabling module status.
Enabling module reqtimeout.
Enabling conf charset.
Enabling conf localized-error-pages.
Enabling conf other-vhosts-access-log.
Enabling conf security.
Enabling conf serve-cgi-bin.
Enabling site 000-default.
Created symlink /etc/systemd/system/multi-user.target.wants/apache2.service â†’ /lib/systemd/system/apache2.service.
Created symlink /etc/systemd/system/multi-user.target.wants/apache-htcacheclean.service â†’ /lib/systemd/system/apache-htcacheclean.service.
Processing triggers for libc-bin (2.28-0ubuntu1) ...
Processing triggers for systemd (239-7ubuntu10.6) ...
Processing triggers for ufw (0.35-6) ...
```


#### Disable Apache so it doesn't start automatically

GUEST ha-node1:
```shell
$ sudo systemctl disable apache2
Synchronizing state of apache2.service with SysV service script with /lib/systemd/systemd-sysv-install.
Executing: /lib/systemd/systemd-sysv-install disable apache2
```
GUEST ha-node1:
```shell
$ sudo systemctl stop apache2
```
GUEST ha-node2:
```shell
$ sudo systemctl disable apache2
Synchronizing state of apache2.service with SysV service script with /lib/systemd/systemd-sysv-install.
Executing: /lib/systemd/systemd-sysv-install disable apache2
```
GUEST ha-node2:
```shell
$ sudo systemctl stop apache2
```


### [http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_create_website_documents.html](http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_create_website_documents.html)


#### Create an html document

GUEST ha-node1:
```shell
$ sudo cat <<END >/var/www/html/index.html
 <html>
 <body>My Test Site - $(hostname)</body>
 </html>
END
```
GUEST ha-node2:
```shell
$ sudo cat <<END >/var/www/html/index.html
 <html>
 <body>My Test Site - $(hostname)</body>
 </html>
END
```


### [http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_enable_the_apache_status_url.html](http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_enable_the_apache_status_url.html)


#### Enable the Apache status URL

GUEST ha-node1:
```shell
$ sudo cat <<END >/etc/apache2/conf-available/status.conf
 <Location /server-status>
    SetHandler server-status
    Require local
 </Location>
END
```
GUEST ha-node1:
```shell
$ sudo ln -rs /etc/apache2/conf-available/status.conf /etc/apache2/conf-enabled/status.conf
```
GUEST ha-node2:
```shell
$ sudo cat <<END >/etc/apache2/conf-available/status.conf
 <Location /server-status>
    SetHandler server-status
    Require local
 </Location>
END
```
GUEST ha-node2:
```shell
$ sudo ln -rs /etc/apache2/conf-available/status.conf /etc/apache2/conf-enabled/status.conf
```


### [http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_configure_the_cluster.html](http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_configure_the_cluster.html)


#### Add Apache to the cluster

GUEST ha-node1:
```shell
$ sudo pcs resource create WebSite ocf:heartbeat:apache configfile=/etc/apache2/apache2.conf statusurl=http://localhost/server-status op monitor interval=1min
```
GUEST ha-node1:
```shell
$ sudo pcs resource op defaults timeout=240s
Warning: Defaults do not apply to resources which override them with their own defined values
```


#### Verify that Apache is running

GUEST ha-node1:
```shell
$ sudo pcs status
Cluster name: my_cluster
Stack: corosync
Current DC: ha-node2 (version 1.1.18-2b07d5c5a9) - partition with quorum
Last updated: Fri Feb  1 14:33:11 2019
Last change: Fri Feb  1 14:33:09 2019 by root via cibadmin on ha-node1

2 nodes configured
2 resources configured

Online: [ ha-node1 ha-node2 ]

Full list of resources:

 ClusterIP	(ocf::heartbeat:IPaddr2):	Started ha-node2
 WebSite	(ocf::heartbeat:apache):	Started ha-node1

Daemon Status:
  corosync: active/enabled
  pacemaker: active/enabled
  pcsd: active/enabled
```
GUEST ha-node1:
```shell
$ sudo wget -O - http://localhost/server-status
--2019-02-01 14:33:11--  http://localhost/server-status
Resolving localhost (localhost)... 127.0.0.1
Connecting to localhost (localhost)|127.0.0.1|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 3954 (3.9K) [text/html]
Saving to: â€˜STDOUTâ€™

-                                  0%[                                                        ]       0  --.-KB/s               <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html><head>
<title>Apache Status</title>
</head><body>
<h1>Apache Server Status for localhost (via 127.0.0.1)</h1>

<dl><dt>Server Version: Apache/2.4.34 (Ubuntu)</dt>
<dt>Server MPM: event</dt>
<dt>Server Built: 2018-10-03T13:57:22
</dt></dl><hr /><dl>
<dt>Current Time: Friday, 01-Feb-2019 14:33:11 UTC</dt>
<dt>Restart Time: Friday, 01-Feb-2019 14:33:09 UTC</dt>
<dt>Parent Server Config. Generation: 1</dt>
<dt>Parent Server MPM Generation: 0</dt>
<dt>Server uptime:  1 second</dt>
<dt>Server load: 1.70 1.71 1.49</dt>
<dt>Total accesses: 2 - Total Traffic: 7 kB</dt>
<dt>CPU Usage: u0 s0 cu0 cs0<dt>2 requests/sec - 7.0 kB/second - 3584 B/request</dt>
<dt>1 requests currently being processed, 49 idle workers</dt>
</dl>

<table rules="all" cellpadding="1%">
<tr><th rowspan="2">Slot</th><th rowspan="2">PID</th><th rowspan="2">Stopping</th><th colspan="2">Connections</th>
<th colspan="2">Threads</th><th colspan="3">Async connections</th></tr>
<tr><th>total</th><th>accepting</th><th>busy</th><th>idle</th><th>writing</th><th>keep-alive</th><th>closing</th></tr>
<tr><td>0</td><td>7350</td><td>no</td><td>0</td><td>yes</td><td>1</td><td>24</td><td>0</td><td>0</td><td>0</td></tr>
<tr><td>1</td><td>7351</td><td>no</td><td>0</td><td>yes</td><td>0</td><td>25</td><td>0</td><td>0</td><td>0</td></tr>
<tr><td>Sum</td><td>2</td><td>0</td><td>0</td><td>&nbsp;</td><td>1</td><td>49</td><td>0</td><td>0</td><td>0</td></tr>
</table>
<pre>___W______________________________________________..............
................................................................
......................</pre>
<p>Scoreboard Key:<br />
"<b><code>_</code></b>" Waiting for Connection, 
"<b><code>S</code></b>" Starting up, 
"<b><code>R</code></b>" Reading Request,<br />
"<b><code>W</code></b>" Sending Reply, 
"<b><code>K</code></b>" Keepalive (read), 
"<b><code>D</code></b>" DNS Lookup,<br />
"<b><code>C</code></b>" Closing connection, 
"<b><code>L</code></b>" Logging, 
"<b><code>G</code></b>" Gracefully finishing,<br /> 
"<b><code>I</code></b>" Idle cleanup of worker, 
"<b><code>.</code></b>" Open slot with no current process<br />
</p>


<table border="0"><tr><th>Srv</th><th>PID</th><th>Acc</th><th>M</th><th>CPU
</th><th>SS</th><th>Req</th><th>Conn</th><th>Child</th><th>Slot</th><th>Client</th><th>Protocol</th><th>VHost</th><th>Request</th></tr>

<tr><td><b>0-0</b></td><td>7350</td><td>0/1/1</td><td>_
</td><td>0.00</td><td>0</td><td>0</td><td>0.0</td><td>0.00</td><td>0.00
</td><td>127.0.0.1</td><td>http/1.1</td><td nowrap>ha-node1.lxd:80</td><td nowrap>GET /server-status HTTP/1.1</td></tr>

<tr><td><b>0-0</b></td><td>7350</td><td>0/0/0</td><td><b>W</b>
</td><td>0.00</td><td>0</td><td>0</td><td>0.0</td><td>0.00</td><td>0.00
</td><td>127.0.0.1</td><td>http/1.1</td><td nowrap>ha-node1.lxd:80</td><td nowrap>GET /server-status HTTP/1.1</td></tr>

<tr><td><b>1-0</b></td><td>7351</td><td>0/1/1</td><td>_
</td><td>0.00</td><td>0</td><td>0</td><td>0.0</td><td>0.00</td><td>0.00
</td><td>127.0.0.1</td><td>http/1.1</td><td nowrap>ha-node1.lxd:80</td><td nowrap>GET /server-status HTTP/1.1</td></tr>

</table>
 <hr /> <table>
 <tr><th>Srv</th><td>Child Server number - generation</td></tr>
 <tr><th>PID</th><td>OS process ID</td></tr>
 <tr><th>Acc</th><td>Number of accesses this connection / this child / this slot</td></tr>
 <tr><th>M</th><td>Mode of operation</td></tr>
<tr><th>CPU</th><td>CPU usage, number of seconds</td></tr>
<tr><th>SS</th><td>Seconds since beginning of most recent request</td></tr>
 <tr><th>Req</th><td>Milliseconds required to process most recent request</td></tr>
 <tr><th>Conn</th><td>Kilobytes transferred this connection</td></tr>
 <tr><th>Child</th><td>Megabytes transferred this child</td></tr>
 <tr><th>Slot</th><td>Total megabytes transferred this slot</td></tr>
 </table>
<hr />
<address>Apache/2.4.34 (Ubuntu) Server at localhost Port 80</address>
</body></html>
-                                100%[=======================================================>]   3.86K  --.-KB/s    in 0s      

2019-02-01 14:33:11 (913 MB/s) - written to stdout [3954/3954]

```


### [http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_ensure_resources_run_on_the_same_host.html](http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_ensure_resources_run_on_the_same_host.html)


#### Ensure related resources run on the same host

GUEST ha-node1:
```shell
$ sudo pcs constraint colocation add WebSite with ClusterIP INFINITY
```
GUEST ha-node1:
```shell
$ sudo pcs constraint
Location Constraints:
Ordering Constraints:
Colocation Constraints:
  WebSite with ClusterIP (score:INFINITY)
Ticket Constraints:
```
GUEST ha-node1:
```shell
$ sudo pcs status
Cluster name: my_cluster
Stack: corosync
Current DC: ha-node2 (version 1.1.18-2b07d5c5a9) - partition with quorum
Last updated: Fri Feb  1 14:33:12 2019
Last change: Fri Feb  1 14:33:11 2019 by root via cibadmin on ha-node1

2 nodes configured
2 resources configured

Online: [ ha-node1 ha-node2 ]

Full list of resources:

 ClusterIP	(ocf::heartbeat:IPaddr2):	Started ha-node2
 WebSite	(ocf::heartbeat:apache):	Started ha-node1

Daemon Status:
  corosync: active/enabled
  pacemaker: active/enabled
  pcsd: active/enabled
```


### [http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_ensure_resources_start_and_stop_in_order.html](http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_ensure_resources_start_and_stop_in_order.html)


#### Ensure resources start and stop in the right order

GUEST ha-node1:
```shell
$ sudo pcs constraint order ClusterIP then WebSite
Adding ClusterIP WebSite (kind: Mandatory) (Options: first-action=start then-action=start)
```
GUEST ha-node1:
```shell
$ sudo pcs constraint
Location Constraints:
Ordering Constraints:
  start ClusterIP then start WebSite (kind:Mandatory)
Colocation Constraints:
  WebSite with ClusterIP (score:INFINITY)
Ticket Constraints:
```


### [http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_prefer_one_node_over_another.html](http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_prefer_one_node_over_another.html)


#### Prefer one node over another

GUEST ha-node1:
```shell
$ sudo pcs constraint location WebSite prefers ha-node1=50
```
GUEST ha-node1:
```shell
$ sudo pcs constraint
Location Constraints:
  Resource: WebSite
    Enabled on: ha-node1 (score:50)
Ordering Constraints:
  start ClusterIP then start WebSite (kind:Mandatory)
Colocation Constraints:
  WebSite with ClusterIP (score:INFINITY)
Ticket Constraints:
```
GUEST ha-node1:
```shell
$ sudo pcs status
Cluster name: my_cluster
Stack: corosync
Current DC: ha-node2 (version 1.1.18-2b07d5c5a9) - partition with quorum
Last updated: Fri Feb  1 14:33:15 2019
Last change: Fri Feb  1 14:33:13 2019 by root via cibadmin on ha-node1

2 nodes configured
2 resources configured

Online: [ ha-node1 ha-node2 ]

Full list of resources:

 ClusterIP	(ocf::heartbeat:IPaddr2):	Started ha-node2
 WebSite	(ocf::heartbeat:apache):	Started ha-node2

Daemon Status:
  corosync: active/enabled
  pacemaker: active/enabled
  pcsd: active/enabled
```


#### Figure out why WebSite is still running on ha-node2

GUEST ha-node1:
```shell
$ sudo crm_simulate -sL

Current cluster status:
Online: [ ha-node1 ha-node2 ]

 ClusterIP	(ocf::heartbeat:IPaddr2):	Started ha-node2
 WebSite	(ocf::heartbeat:apache):	Started ha-node2

Allocation scores:
native_color: ClusterIP allocation score on ha-node1: 50
native_color: ClusterIP allocation score on ha-node2: 200
native_color: WebSite allocation score on ha-node1: -INFINITY
native_color: WebSite allocation score on ha-node2: 100

Transition Summary:
```


### [http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_move_resources_manually.html](http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/_move_resources_manually.html)


#### Move resources manually

GUEST ha-node1:
```shell
$ sudo pcs resource move WebSite ha-node1
```
GUEST ha-node1:
```shell
$ sudo pcs constraint
Location Constraints:
  Resource: WebSite
    Enabled on: ha-node1 (score:50)
    Enabled on: ha-node1 (score:INFINITY) (role: Started)
Ordering Constraints:
  start ClusterIP then start WebSite (kind:Mandatory)
Colocation Constraints:
  WebSite with ClusterIP (score:INFINITY)
Ticket Constraints:
```
GUEST ha-node1:
```shell
$ sudo pcs status
Cluster name: my_cluster
Stack: corosync
Current DC: ha-node2 (version 1.1.18-2b07d5c5a9) - partition with quorum
Last updated: Fri Feb  1 14:33:19 2019
Last change: Fri Feb  1 14:33:16 2019 by root via crm_resource on ha-node1

2 nodes configured
2 resources configured

Online: [ ha-node1 ha-node2 ]

Full list of resources:

 ClusterIP	(ocf::heartbeat:IPaddr2):	Started ha-node2
 WebSite	(ocf::heartbeat:apache):	Stopped

Daemon Status:
  corosync: active/enabled
  pacemaker: active/enabled
  pcsd: active/enabled
```


#### Remove temporary constraints

GUEST ha-node1:
```shell
$ sudo pcs resource clear WebSite
```
GUEST ha-node1:
```shell
$ sudo pcs constraint
Location Constraints:
  Resource: WebSite
    Enabled on: ha-node1 (score:50)
Ordering Constraints:
  start ClusterIP then start WebSite (kind:Mandatory)
Colocation Constraints:
  WebSite with ClusterIP (score:INFINITY)
Ticket Constraints:
```
GUEST ha-node1:
```shell
$ sudo pcs status
Cluster name: my_cluster
Stack: corosync
Current DC: ha-node2 (version 1.1.18-2b07d5c5a9) - partition with quorum
Last updated: Fri Feb  1 14:33:22 2019
Last change: Fri Feb  1 14:33:19 2019 by root via crm_resource on ha-node1

2 nodes configured
2 resources configured

Online: [ ha-node1 ha-node2 ]

Full list of resources:

 ClusterIP	(ocf::heartbeat:IPaddr2):	Started ha-node1
 WebSite	(ocf::heartbeat:apache):	Started ha-node1

Daemon Status:
  corosync: active/enabled
  pacemaker: active/enabled
  pcsd: active/enabled
```


### [http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/ch07.html](http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/2.0/html/Clusters_from_Scratch/ch07.html)


#### Install DRDB

GUEST ha-node1:
```shell
$ echo postfix postfix/mailname string ha-node1.local | sudo debconf-set-selections
```
GUEST ha-node1:
```shell
$ echo postfix postfix/main_mailer_type string 'Local Only' | sudo debconf-set-selections
```
GUEST ha-node1:
```shell
$ sudo apt install -y drbd-utils
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following additional packages will be installed:
  guile-2.0-libs libgc1c2 libgsasl7 libkyotocabinet16v5 libmailutils5 libmysqlclient20 libntlm0 libpython2.7
  libpython2.7-minimal libpython2.7-stdlib mailutils mailutils-common mysql-common postfix
Suggested packages:
  heartbeat mailutils-mh mailutils-doc procmail postfix-mysql postfix-pgsql postfix-ldap postfix-pcre postfix-lmdb
  postfix-sqlite sasl2-bin dovecot-common resolvconf postfix-cdb postfix-doc
The following NEW packages will be installed:
  drbd-utils guile-2.0-libs libgc1c2 libgsasl7 libkyotocabinet16v5 libmailutils5 libmysqlclient20 libntlm0 libpython2.7
  libpython2.7-minimal libpython2.7-stdlib mailutils mailutils-common mysql-common postfix
0 upgraded, 15 newly installed, 0 to remove and 0 not upgraded.
Need to get 9489 kB of archives.
After this operation, 45.0 MB of additional disk space will be used.
Get:1 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libgc1c2 amd64 1:7.6.4-0.4 [83.4 kB]
Get:2 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 guile-2.0-libs amd64 2.0.13+1-5ubuntu1 [2218 kB]
Get:3 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 libntlm0 amd64 1.5-1 [13.9 kB]
Get:4 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 libgsasl7 amd64 1.8.0-8ubuntu3 [118 kB]
Get:5 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 libkyotocabinet16v5 amd64 1.2.76-4.2 [292 kB]
Get:6 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 mailutils-common all 1:3.4-1build1 [270 kB]
Get:7 http://archive.ubuntu.com/ubuntu cosmic/main amd64 mysql-common all 5.8+1.0.4 [7308 B]
Get:8 http://archive.ubuntu.com/ubuntu cosmic-updates/main amd64 libmysqlclient20 amd64 5.7.25-0ubuntu0.18.10.2 [809 kB]
Get:9 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libpython2.7-minimal amd64 2.7.15-4ubuntu4 [335 kB]
Get:10 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libpython2.7-stdlib amd64 2.7.15-4ubuntu4 [1907 kB]
Get:11 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libpython2.7 amd64 2.7.15-4ubuntu4 [1034 kB]
Get:12 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 libmailutils5 amd64 1:3.4-1build1 [457 kB]
Get:13 http://archive.ubuntu.com/ubuntu cosmic/main amd64 postfix amd64 3.3.0-1ubuntu2 [1150 kB]
Get:14 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 mailutils amd64 1:3.4-1build1 [140 kB]
Get:15 http://archive.ubuntu.com/ubuntu cosmic/main amd64 drbd-utils amd64 9.5.0-1 [655 kB]
Fetched 9489 kB in 2s (5459 kB/s)   
Preconfiguring packages ...
Selecting previously unselected package libgc1c2:amd64.
(Reading database ... 36714 files and directories currently installed.)
Preparing to unpack .../00-libgc1c2_1%3a7.6.4-0.4_amd64.deb ...
Unpacking libgc1c2:amd64 (1:7.6.4-0.4) ...
Selecting previously unselected package guile-2.0-libs:amd64.
Preparing to unpack .../01-guile-2.0-libs_2.0.13+1-5ubuntu1_amd64.deb ...
Unpacking guile-2.0-libs:amd64 (2.0.13+1-5ubuntu1) ...
Selecting previously unselected package libntlm0:amd64.
Preparing to unpack .../02-libntlm0_1.5-1_amd64.deb ...
Unpacking libntlm0:amd64 (1.5-1) ...
Selecting previously unselected package libgsasl7:amd64.
Preparing to unpack .../03-libgsasl7_1.8.0-8ubuntu3_amd64.deb ...
Unpacking libgsasl7:amd64 (1.8.0-8ubuntu3) ...
Selecting previously unselected package libkyotocabinet16v5:amd64.
Preparing to unpack .../04-libkyotocabinet16v5_1.2.76-4.2_amd64.deb ...
Unpacking libkyotocabinet16v5:amd64 (1.2.76-4.2) ...
Selecting previously unselected package mailutils-common.
Preparing to unpack .../05-mailutils-common_1%3a3.4-1build1_all.deb ...
Unpacking mailutils-common (1:3.4-1build1) ...
Selecting previously unselected package mysql-common.
Preparing to unpack .../06-mysql-common_5.8+1.0.4_all.deb ...
Unpacking mysql-common (5.8+1.0.4) ...
Selecting previously unselected package libmysqlclient20:amd64.
Preparing to unpack .../07-libmysqlclient20_5.7.25-0ubuntu0.18.10.2_amd64.deb ...
Unpacking libmysqlclient20:amd64 (5.7.25-0ubuntu0.18.10.2) ...
Selecting previously unselected package libpython2.7-minimal:amd64.
Preparing to unpack .../08-libpython2.7-minimal_2.7.15-4ubuntu4_amd64.deb ...
Unpacking libpython2.7-minimal:amd64 (2.7.15-4ubuntu4) ...
Selecting previously unselected package libpython2.7-stdlib:amd64.
Preparing to unpack .../09-libpython2.7-stdlib_2.7.15-4ubuntu4_amd64.deb ...
Unpacking libpython2.7-stdlib:amd64 (2.7.15-4ubuntu4) ...
Selecting previously unselected package libpython2.7:amd64.
Preparing to unpack .../10-libpython2.7_2.7.15-4ubuntu4_amd64.deb ...
Unpacking libpython2.7:amd64 (2.7.15-4ubuntu4) ...
Selecting previously unselected package libmailutils5:amd64.
Preparing to unpack .../11-libmailutils5_1%3a3.4-1build1_amd64.deb ...
Unpacking libmailutils5:amd64 (1:3.4-1build1) ...
Selecting previously unselected package postfix.
Preparing to unpack .../12-postfix_3.3.0-1ubuntu2_amd64.deb ...
Unpacking postfix (3.3.0-1ubuntu2) ...
Selecting previously unselected package mailutils.
Preparing to unpack .../13-mailutils_1%3a3.4-1build1_amd64.deb ...
Unpacking mailutils (1:3.4-1build1) ...
Selecting previously unselected package drbd-utils.
Preparing to unpack .../14-drbd-utils_9.5.0-1_amd64.deb ...
Unpacking drbd-utils (9.5.0-1) ...
Processing triggers for ufw (0.35-6) ...
Setting up mysql-common (5.8+1.0.4) ...
update-alternatives: using /etc/mysql/my.cnf.fallback to provide /etc/mysql/my.cnf (my.cnf) in auto mode
Setting up libgc1c2:amd64 (1:7.6.4-0.4) ...
Setting up drbd-utils (9.5.0-1) ...
Setting up libntlm0:amd64 (1.5-1) ...
Processing triggers for libc-bin (2.28-0ubuntu1) ...
Setting up guile-2.0-libs:amd64 (2.0.13+1-5ubuntu1) ...
Processing triggers for systemd (239-7ubuntu10.6) ...
Processing triggers for man-db (2.8.4-2) ...
Setting up libmysqlclient20:amd64 (5.7.25-0ubuntu0.18.10.2) ...
Setting up libpython2.7-minimal:amd64 (2.7.15-4ubuntu4) ...
Setting up libkyotocabinet16v5:amd64 (1.2.76-4.2) ...
Setting up libpython2.7-stdlib:amd64 (2.7.15-4ubuntu4) ...
Processing triggers for rsyslog (8.32.0-1ubuntu5) ...
Setting up postfix (3.3.0-1ubuntu2) ...
Created symlink /etc/systemd/system/multi-user.target.wants/postfix.service â†’ /lib/systemd/system/postfix.service.
Adding group `postfix' (GID 119) ...
Done.
Adding system user `postfix' (UID 111) ...
Adding new user `postfix' (UID 111) with group `postfix' ...
Not creating home directory `/var/spool/postfix'.
Creating /etc/postfix/dynamicmaps.cf
Adding group `postdrop' (GID 120) ...
Done.
setting myhostname: ha-node1.lxd
setting alias maps
setting alias database
changing /etc/mailname to ha-node1.local
setting myorigin
setting destinations: ha-node1.local, $myhostname, ha-node1.lxd, localhost.lxd, localhost
setting relayhost: 
setting mynetworks: 127.0.0.0/8 [::ffff:127.0.0.0]/104 [::1]/128
setting mailbox_size_limit: 0
setting recipient_delimiter: +
setting inet_interfaces: all
setting inet_protocols: all
/etc/aliases does not exist, creating it.
WARNING: /etc/aliases exists, but does not have a root alias.

Postfix (main.cf) is now set up with a default configuration.  If you need to 
make changes, edit /etc/postfix/main.cf (and others) as needed.  To view 
Postfix configuration values, see postconf(1).

After modifying main.cf, be sure to run 'service postfix reload'.

Running newaliases
Setting up mailutils-common (1:3.4-1build1) ...
Setting up libgsasl7:amd64 (1.8.0-8ubuntu3) ...
Setting up libpython2.7:amd64 (2.7.15-4ubuntu4) ...
Setting up libmailutils5:amd64 (1:3.4-1build1) ...
Setting up mailutils (1:3.4-1build1) ...
update-alternatives: using /usr/bin/frm.mailutils to provide /usr/bin/frm (frm) in auto mode
update-alternatives: using /usr/bin/from.mailutils to provide /usr/bin/from (from) in auto mode
update-alternatives: using /usr/bin/messages.mailutils to provide /usr/bin/messages (messages) in auto mode
update-alternatives: using /usr/bin/movemail.mailutils to provide /usr/bin/movemail (movemail) in auto mode
update-alternatives: using /usr/bin/readmsg.mailutils to provide /usr/bin/readmsg (readmsg) in auto mode
update-alternatives: using /usr/bin/dotlock.mailutils to provide /usr/bin/dotlock (dotlock) in auto mode
update-alternatives: using /usr/bin/mail.mailutils to provide /usr/bin/mailx (mailx) in auto mode
Processing triggers for libc-bin (2.28-0ubuntu1) ...
Processing triggers for systemd (239-7ubuntu10.6) ...
Processing triggers for rsyslog (8.32.0-1ubuntu5) ...
Processing triggers for ufw (0.35-6) ...
```
GUEST ha-node2:
```shell
$ echo postfix postfix/mailname string ha-node2.local | sudo debconf-set-selections
```
GUEST ha-node2:
```shell
$ echo postfix postfix/main_mailer_type string 'Local Only' | sudo debconf-set-selections
```
GUEST ha-node2:
```shell
$ sudo apt install -y drbd-utils
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following additional packages will be installed:
  guile-2.0-libs libgc1c2 libgsasl7 libkyotocabinet16v5 libmailutils5 libmysqlclient20 libntlm0 libpython2.7
  libpython2.7-minimal libpython2.7-stdlib mailutils mailutils-common mysql-common postfix
Suggested packages:
  heartbeat mailutils-mh mailutils-doc procmail postfix-mysql postfix-pgsql postfix-ldap postfix-pcre postfix-lmdb
  postfix-sqlite sasl2-bin dovecot-common resolvconf postfix-cdb postfix-doc
The following NEW packages will be installed:
  drbd-utils guile-2.0-libs libgc1c2 libgsasl7 libkyotocabinet16v5 libmailutils5 libmysqlclient20 libntlm0 libpython2.7
  libpython2.7-minimal libpython2.7-stdlib mailutils mailutils-common mysql-common postfix
0 upgraded, 15 newly installed, 0 to remove and 0 not upgraded.
Need to get 9489 kB of archives.
After this operation, 45.0 MB of additional disk space will be used.
Get:1 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libgc1c2 amd64 1:7.6.4-0.4 [83.4 kB]
Get:2 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 guile-2.0-libs amd64 2.0.13+1-5ubuntu1 [2218 kB]
Get:3 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 libntlm0 amd64 1.5-1 [13.9 kB]
Get:4 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 libgsasl7 amd64 1.8.0-8ubuntu3 [118 kB]
Get:5 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 libkyotocabinet16v5 amd64 1.2.76-4.2 [292 kB]
Get:6 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 mailutils-common all 1:3.4-1build1 [270 kB]
Get:7 http://archive.ubuntu.com/ubuntu cosmic/main amd64 mysql-common all 5.8+1.0.4 [7308 B]
Get:8 http://archive.ubuntu.com/ubuntu cosmic-updates/main amd64 libmysqlclient20 amd64 5.7.25-0ubuntu0.18.10.2 [809 kB]
Get:9 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libpython2.7-minimal amd64 2.7.15-4ubuntu4 [335 kB]
Get:10 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libpython2.7-stdlib amd64 2.7.15-4ubuntu4 [1907 kB]
Get:11 http://archive.ubuntu.com/ubuntu cosmic/main amd64 libpython2.7 amd64 2.7.15-4ubuntu4 [1034 kB]
Get:12 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 libmailutils5 amd64 1:3.4-1build1 [457 kB]
Get:13 http://archive.ubuntu.com/ubuntu cosmic/main amd64 postfix amd64 3.3.0-1ubuntu2 [1150 kB]
Get:14 http://archive.ubuntu.com/ubuntu cosmic/universe amd64 mailutils amd64 1:3.4-1build1 [140 kB]
Get:15 http://archive.ubuntu.com/ubuntu cosmic/main amd64 drbd-utils amd64 9.5.0-1 [655 kB]
Fetched 9489 kB in 2s (5635 kB/s)   
Preconfiguring packages ...
Selecting previously unselected package libgc1c2:amd64.
(Reading database ... 36714 files and directories currently installed.)
Preparing to unpack .../00-libgc1c2_1%3a7.6.4-0.4_amd64.deb ...
Unpacking libgc1c2:amd64 (1:7.6.4-0.4) ...
Selecting previously unselected package guile-2.0-libs:amd64.
Preparing to unpack .../01-guile-2.0-libs_2.0.13+1-5ubuntu1_amd64.deb ...
Unpacking guile-2.0-libs:amd64 (2.0.13+1-5ubuntu1) ...
Selecting previously unselected package libntlm0:amd64.
Preparing to unpack .../02-libntlm0_1.5-1_amd64.deb ...
Unpacking libntlm0:amd64 (1.5-1) ...
Selecting previously unselected package libgsasl7:amd64.
Preparing to unpack .../03-libgsasl7_1.8.0-8ubuntu3_amd64.deb ...
Unpacking libgsasl7:amd64 (1.8.0-8ubuntu3) ...
Selecting previously unselected package libkyotocabinet16v5:amd64.
Preparing to unpack .../04-libkyotocabinet16v5_1.2.76-4.2_amd64.deb ...
Unpacking libkyotocabinet16v5:amd64 (1.2.76-4.2) ...
Selecting previously unselected package mailutils-common.
Preparing to unpack .../05-mailutils-common_1%3a3.4-1build1_all.deb ...
Unpacking mailutils-common (1:3.4-1build1) ...
Selecting previously unselected package mysql-common.
Preparing to unpack .../06-mysql-common_5.8+1.0.4_all.deb ...
Unpacking mysql-common (5.8+1.0.4) ...
Selecting previously unselected package libmysqlclient20:amd64.
Preparing to unpack .../07-libmysqlclient20_5.7.25-0ubuntu0.18.10.2_amd64.deb ...
Unpacking libmysqlclient20:amd64 (5.7.25-0ubuntu0.18.10.2) ...
Selecting previously unselected package libpython2.7-minimal:amd64.
Preparing to unpack .../08-libpython2.7-minimal_2.7.15-4ubuntu4_amd64.deb ...
Unpacking libpython2.7-minimal:amd64 (2.7.15-4ubuntu4) ...
Selecting previously unselected package libpython2.7-stdlib:amd64.
Preparing to unpack .../09-libpython2.7-stdlib_2.7.15-4ubuntu4_amd64.deb ...
Unpacking libpython2.7-stdlib:amd64 (2.7.15-4ubuntu4) ...
Selecting previously unselected package libpython2.7:amd64.
Preparing to unpack .../10-libpython2.7_2.7.15-4ubuntu4_amd64.deb ...
Unpacking libpython2.7:amd64 (2.7.15-4ubuntu4) ...
Selecting previously unselected package libmailutils5:amd64.
Preparing to unpack .../11-libmailutils5_1%3a3.4-1build1_amd64.deb ...
Unpacking libmailutils5:amd64 (1:3.4-1build1) ...
Selecting previously unselected package postfix.
Preparing to unpack .../12-postfix_3.3.0-1ubuntu2_amd64.deb ...
Unpacking postfix (3.3.0-1ubuntu2) ...
Selecting previously unselected package mailutils.
Preparing to unpack .../13-mailutils_1%3a3.4-1build1_amd64.deb ...
Unpacking mailutils (1:3.4-1build1) ...
Selecting previously unselected package drbd-utils.
Preparing to unpack .../14-drbd-utils_9.5.0-1_amd64.deb ...
Unpacking drbd-utils (9.5.0-1) ...
Processing triggers for ufw (0.35-6) ...
Setting up mysql-common (5.8+1.0.4) ...
update-alternatives: using /etc/mysql/my.cnf.fallback to provide /etc/mysql/my.cnf (my.cnf) in auto mode
Setting up libgc1c2:amd64 (1:7.6.4-0.4) ...
Setting up drbd-utils (9.5.0-1) ...
Setting up libntlm0:amd64 (1.5-1) ...
Processing triggers for libc-bin (2.28-0ubuntu1) ...
Setting up guile-2.0-libs:amd64 (2.0.13+1-5ubuntu1) ...
Processing triggers for systemd (239-7ubuntu10.6) ...
Processing triggers for man-db (2.8.4-2) ...
Setting up libmysqlclient20:amd64 (5.7.25-0ubuntu0.18.10.2) ...
Setting up libpython2.7-minimal:amd64 (2.7.15-4ubuntu4) ...
Setting up libkyotocabinet16v5:amd64 (1.2.76-4.2) ...
Setting up libpython2.7-stdlib:amd64 (2.7.15-4ubuntu4) ...
Processing triggers for rsyslog (8.32.0-1ubuntu5) ...
Setting up postfix (3.3.0-1ubuntu2) ...
Created symlink /etc/systemd/system/multi-user.target.wants/postfix.service â†’ /lib/systemd/system/postfix.service.
Adding group `postfix' (GID 119) ...
Done.
Adding system user `postfix' (UID 111) ...
Adding new user `postfix' (UID 111) with group `postfix' ...
Not creating home directory `/var/spool/postfix'.
Creating /etc/postfix/dynamicmaps.cf
Adding group `postdrop' (GID 120) ...
Done.
setting myhostname: ha-node2.lxd
setting alias maps
setting alias database
changing /etc/mailname to ha-node2.local
setting myorigin
setting destinations: ha-node2.local, $myhostname, ha-node2.lxd, localhost.lxd, localhost
setting relayhost: 
setting mynetworks: 127.0.0.0/8 [::ffff:127.0.0.0]/104 [::1]/128
setting mailbox_size_limit: 0
setting recipient_delimiter: +
setting inet_interfaces: all
setting inet_protocols: all
/etc/aliases does not exist, creating it.
WARNING: /etc/aliases exists, but does not have a root alias.

Postfix (main.cf) is now set up with a default configuration.  If you need to 
make changes, edit /etc/postfix/main.cf (and others) as needed.  To view 
Postfix configuration values, see postconf(1).

After modifying main.cf, be sure to run 'service postfix reload'.

Running newaliases
Setting up mailutils-common (1:3.4-1build1) ...
Setting up libgsasl7:amd64 (1.8.0-8ubuntu3) ...
Setting up libpython2.7:amd64 (2.7.15-4ubuntu4) ...
Setting up libmailutils5:amd64 (1:3.4-1build1) ...
Setting up mailutils (1:3.4-1build1) ...
update-alternatives: using /usr/bin/frm.mailutils to provide /usr/bin/frm (frm) in auto mode
update-alternatives: using /usr/bin/from.mailutils to provide /usr/bin/from (from) in auto mode
update-alternatives: using /usr/bin/messages.mailutils to provide /usr/bin/messages (messages) in auto mode
update-alternatives: using /usr/bin/movemail.mailutils to provide /usr/bin/movemail (movemail) in auto mode
update-alternatives: using /usr/bin/readmsg.mailutils to provide /usr/bin/readmsg (readmsg) in auto mode
update-alternatives: using /usr/bin/dotlock.mailutils to provide /usr/bin/dotlock (dotlock) in auto mode
update-alternatives: using /usr/bin/mail.mailutils to provide /usr/bin/mailx (mailx) in auto mode
Processing triggers for libc-bin (2.28-0ubuntu1) ...
Processing triggers for systemd (239-7ubuntu10.6) ...
Processing triggers for rsyslog (8.32.0-1ubuntu5) ...
Processing triggers for ufw (0.35-6) ...
```
